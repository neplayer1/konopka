{"version":3,"sources":["images/sample.jpg","contaiters/Header/styled/HeaderNavLink.tsx","contaiters/Header/styled/HeaderNavButton.tsx","utils/routes.ts","context/ctxi18n.ts","hooks/useContextStrict.ts","hooks/useDictionary.ts","context/ctxAuth.ts","hooks/useAuth.ts","contaiters/Header/Header.tsx","hooks/useHandleChangeLang.ts","contaiters/Footer/Footer.tsx","i18n/ru/index.ts","i18n/en/index.ts","hoc/hocIntlProvider.tsx","hoc/hocScrollToTop.tsx","constants/common.ts","contaiters/IndexPage/useSpringText.js","contaiters/IndexPage/IndexPage.tsx","components/CatalogPage/styled/CatalogPageImage.tsx","hooks/useCurrentLang.ts","components/CatalogPage/CatalogPage.tsx","queries/interiors.ts","contaiters/InteriorsPage/InteriorsPage.tsx","utils/common.ts","components/CatalogPageItem/CatalogPageItem.tsx","contaiters/InteriorsPageItem/InteriorsPageItem.tsx","queries/furniture.ts","contaiters/FurniturePage/FurniturePage.tsx","contaiters/FurniturePageItem/FurniturePageItem.tsx","contaiters/AboutPage/AboutPage.tsx","components/FormInput/FormInput.tsx","queries/admin.ts","contaiters/AdminPage/AdminLoginPage.tsx","contaiters/App404/App404.tsx","contaiters/AppGuest/AppGuestRoutes.tsx","queries/mutations.ts","context/ctxModal.ts","contaiters/AdminPage/AdminDashboardPage.tsx","hooks/useModal.ts","context/ctxUploadMultiFiles.ts","context/ctxUploadSingleFile.ts","components/FileControl/FileControlPreview.tsx","components/FileControl/FileControl.tsx","components/FileControl/useFileControlModel.tsx","hooks/useForm.ts","components/FormTextarea/FormTextarea.tsx","utils/stringUtils.ts","components/FormSubmitBtn/FormSubmitBtn.tsx","contaiters/AdminPage/AdminAddInteriorPage.tsx","contaiters/AdminPage/AdminEditInteriorPage.tsx","contaiters/AppAutorized/AppAutorizedRoutes.tsx","contaiters/AppBody/AppBody.tsx","components/Modal/ConfirmationModal.tsx","hoc/hocModalProvider.tsx","hoc/hocUploadMultiFiles.tsx","hoc/hocUploadSingleFile.tsx","hoc/hocAuthProvider.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","HeaderNavLink","url","label","onClick","to","className","HeaderNavButton","routes","index","interiors","path","id","filter","t","join","interiorsPattern","furniture","furniturePattern","about","admin","adminDashboard","adminAddInterior","adminEditInterior","adminEditInteriorPattern","IntlContext","React","createContext","useContextStrict","context","contextValue","useContext","Error","useIntlDictionary","intl","dictionary","AuthContext","useAuth","autorized","setAutorized","Header","handleChangeLang","nav","changeLangLabel","useState","opened","setOpened","header","useRef","headerNode","current","useCookies","removeCookie","handleOpenMenu","useCallback","handleCloseMenu","handleLogOut","useEffect","disableBodyScroll","enableBodyScroll","clearAllBodyScrollLocks","cls","ref","CSSTransition","in","classNames","timeout","dashboard","logout","Footer","writeMe","left","right","href","target","rel","ruIntl","langCode","slogan","slogans","validation","required","ui","buttons","addPreview","addImages","submit","add","update","enIntl","IntlProvider","children","storeLang","localStorage","getItem","lang","setLang","setItem","value","isRu","Provider","withRouter","pathname","location","setTimeout","window","scrollTo","springText","message","COLOR","MESSAGE","FONT_SIZE","ONE_LETTER_AMOUNT","AMOUNT","length","SIZE","INITIAL_DISPLACEMENT","INITIAL_VELOCITY","VELOCITY_RETENTION","SETTLE_SPEED","FLEE_SPEED","FLEE_DISTANCE","FLEE","SCATTER_VELOCITY","SCATTER","test","navigator","userAgent","CLEAR_RADIUS","Math","round","MOVED_O","Array","apply","map","canvas","ctx","getContext","POINTS","MOVED","moved_length","MOUSE","x","y","Point","r","g","b","a","angle","random","this","dest_x","dest_y","original_r","original_g","original_a","lastx","lasty","width","height","velx","cos","vely","sin","target_x","target_y","moved","getX","getY","fleeFrom","settleTo","scatter","unit","unitVecTo","vel","checkMove","abs","simpleMove","move","distanceTo","dx","dy","sqrt","d","inMotion","clear","clearRect","draw","fillStyle","beginPath","arc","PI","fill","resizeHandler","resizeCanvas","adjustText","addEventListener","moveHandler","event","clientX","clientY","clickHandler","i","clientWidth","clientHeight","textBaseline","textAlign","font","lines","split","linesLength","maxWidthLine","reduce","acc","l","centerHeight","fillText","textWidth","measureText","minX","minY","data","getImageData","isBlank","count","curr","num","w","floor","push","animate","requestAnimationFrame","init","cleanCanvas","removeEventListener","IndexPage","storageArray","sessionStorage","usedNums","rand","includes","toString","CatalogPageImage","imageSrc","data-text","src","alt","useCurrentLang","CatalogPage","baseUrl","catalog","useMemo","item","key","_id","nameRu","nameEn","previewUrl","GET_ALL_INTERIORS","gql","GET_INTERIOR_BY_ID","GET_PREV_INTERIOR_BY_ID","GET_NEXT_INTERIOR_BY_ID","InteriorsPage","useQuery","loading","error","isHidden","condition","visibility","pointerEvents","CatalogPageItem","currentItem","prevItem","nextItem","handlePrevItem","handleNextItem","typeRu","yearRu","descriptionRu","typeEn","yearEn","descriptionEn","picturesUrl","name","type","year","description","prevItemName","nextItemName","catalogImages","style","InteriorsPageItem","props","match","history","variables","params","loadingPrev","dataPrev","loadingNext","dataNext","interiorById","interiorPrevious","interiorNext","loaded","GET_ALL_FURNITURE","GET_FURNITURE_BY_ID","GET_PREV_FURNITURE_BY_ID","GET_NEXT_FURNITURE_BY_ID","FurniturePage","FurniturePageItem","furnitureById","furniturePrevious","furnitureNext","AboutPage","sample","dangerouslySetInnerHTML","__html","FormInput","placeholder","errorMessage","hintMessage","animationError","forwardProps","animation","ADMIN_LOGIN","CHECK_TOKEN","AdminLoginPage","passError","setPassError","useMutation","onCompleted","adminLogin","handleSubmit","e","charCode","keyCode","password","onKeyPress","onSubmit","App404","AppGuestRoutes","exact","component","ADD_INTERIOR","UPDATE_INTERIOR","DELETE_INTERIOR","ModalContext","AdminDashboardPage","loadingInteriors","errorInteriors","dataInteriors","loadingFurniture","errorFurniture","dataFurniture","openModal","deleteInterior","called","initModal","useModal","handleOpenModal","actionParams","refetchQueries","query","listInteriors","interior","listFurniture","furnitur","UploadMultiFilesContext","UploadSingleFileContext","FileControlPreview","dataUrl","dataIndex","draggable","onDelete","onDragStart","onDragOver","onDragEnter","onDragLeave","onDrop","onDragEnd","data-index","data-url","FileControl","multiple","errorValidationClass","multiFiles","setMultiFiles","removedImagesUrls","setRemovedImagesUrls","swapPictures","j","console","log","handleDragStart","dragImage","document","createElement","classList","body","appendChild","closest","dataTransfer","effectAllowed","dataset","setData","setDragImage","handleDrop","stopPropagation","getData","indexOf","indexUrl","handleDragOver","preventDefault","dropEffect","handleDragEnter","handleDragLeave","remove","handleDragEnd","querySelector","cols","querySelectorAll","forEach","call","col","handleDeleteFile","removedUrl","nextSibling","remIndex","pictures","deletedPicturesUrl","splice","removedUrls","newResultFiles","preview","useFileControlModel","singleFile","setSingleFile","handleSetFiles","files","uniqueFiles","from","file","Object","assign","URL","createObjectURL","el","find","lastModified","fileWithPreview","multiFilesPreviews","fileIndex","singleFilePreview","InputFiles","onChange","trimEmptyFields","entries","useForm","initialValues","sanitizer","validator","immediateValidator","formatter","values","setValues","setValidation","prevValue","currentTarget","prevValues","nextValues","undefined","validate","onValid","prevValidation","nextValidation","some","checkIsValidationEmpty","FormTextarea","stringOrVoid","stringValue","valueIsString","stringIsEmpty","text","arrayIsEmpty","array","FormSubmitBtn","multiPreviews","AdminAddInteriorPage","addInterior","i18n","validateAddInteriorForm","handleAdd","newInterior","images","action","AdminEditInteriorPage","updateInterior","setInitialValues","validateEditInteriorForm","setPreviewUrl","handleUpdate","imagesOrder","addedFiles","updatedInterior","newPreview","AppAutorizedRoutes","SwitchTransition","ConfirmationModal","isOpened","onCancel","onConfirm","title","modalRef","ModalProvider","setTitle","handle","handleConfirm","setOnConfirm","handleCancel","UploadMultiFilesProvider","UploadSingleFileProvider","AuthProvider","checkToken","link","createUploadLink","require","uri","credentials","client","ApolloClient","cache","InMemoryCache","App","Boolean","hostname","app","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d9c01a08.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sample.1e071326.jpg\";","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\ntype TProps = {\n  url: string;\n  label: string;\n  onClick: () => void;\n};\n\nexport const HeaderNavLink: FC<TProps> = ({url, label, onClick}) => (\n  <Link onClick={onClick} to={url} className=\"header_nav__link\">\n    {label}\n  </Link>\n);\n","import React, { FC } from 'react';\n\ntype TProps = {\n  onClick: () => void;\n  label: string;\n};\n\nexport const HeaderNavButton: FC<TProps> = ({onClick, label}) => (\n  <div onClick={onClick} className=\"header_nav__link header_nav__link--button\">\n    {label}\n  </div>\n);\n","export type TInteriorMatch = {\n  id: string;\n};\nexport type TInteriorsParams = {\n  id?: string;\n};\nexport type TFurnitureMatch = {\n  id: string;\n};\nexport type TFurnitureParams = {\n  id?: string;\n};\n\nexport const routes = {\n  index() {\n    return '/';\n  },\n  interiors({id}: TInteriorsParams) {\n    const path = [id].filter(t => !!t);\n    return `/interiors/${path.join('/')}`;\n  },\n  interiorsPattern() {\n    return `/interiors/:id?`;\n  },\n  furniture({id}: TFurnitureParams) {\n    const path = [id].filter(t => !!t);\n    return `/furniture/${path.join('/')}`;\n  },\n  furniturePattern() {\n    return `/furniture/:id?`;\n  },\n  about() {\n    return '/about';\n  },\n  admin() {\n    return '/admin';\n  },\n  adminDashboard() {\n    return '/admin/dashboard';\n  },\n  adminAddInterior() {\n    return `/admin/interiors/add`;\n  },\n  adminEditInterior({id}: TInteriorsParams) {\n    const path = [id].filter(t => !!t);\n    return `/admin/interiors/edit/${path.join('/')}`;\n  },\n  adminEditInteriorPattern() {\n    return `/admin/interiors/edit/:id?`;\n  },\n};\n","import React from 'react';\n\nimport { TIntl } from 'types/i18n';\n\ntype TProps = {\n  intl: TIntl;\n  handleChangeLang: () => void;\n  isRu: boolean;\n}\n\nexport const IntlContext = React.createContext<null | TProps>(null);\n","import React from 'react';\n\nexport function useContextStrict<TValue>(context: React.Context<TValue | null>): TValue {\n  const contextValue = React.useContext(context);\n\n  if (contextValue === null) {\n    throw new Error('Consumer has been used outside of the provider.');\n  }\n  return contextValue;\n}\n","import { IntlContext } from 'context/ctxi18n';\nimport { useContextStrict } from 'hooks/useContextStrict';\n\nexport const useIntlDictionary = () => {\n  const { intl } = useContextStrict(IntlContext);\n\n  return intl.dictionary;\n}","import React, {Dispatch, SetStateAction} from 'react';\n\ntype TProps = {\n  autorized: boolean;\n  setAutorized: Dispatch<SetStateAction<boolean>>;\n}\n\nexport const AuthContext = React.createContext<null | TProps>(null);\n","import {useContextStrict} from 'hooks/useContextStrict';\nimport {AuthContext} from \"context/ctxAuth\";\n\nexport const useAuth = () => {\n  const { autorized, setAutorized } = useContextStrict(AuthContext);\n\n  return { autorized, setAutorized };\n}","import React, {FC, useCallback, useEffect, useRef, useState} from 'react';\nimport {HeaderNavLink} from 'contaiters/Header/styled/HeaderNavLink';\nimport {HeaderNavButton} from 'contaiters/Header/styled/HeaderNavButton';\nimport {Link} from 'react-router-dom';\nimport {routes} from 'utils/routes';\nimport {useIntlDictionary} from 'hooks/useDictionary';\nimport {useHandleChangeLang} from 'hooks/useHandleChangeLang';\nimport {CSSTransition} from 'react-transition-group';\nimport {clearAllBodyScrollLocks, disableBodyScroll, enableBodyScroll} from 'body-scroll-lock';\nimport {useAuth} from \"hooks/useAuth\";\nimport {useCookies} from \"react-cookie\";\n\nexport const Header: FC = () => {\n  const {autorized} = useAuth();\n  const handleChangeLang = useHandleChangeLang();\n  const {nav, changeLangLabel} = useIntlDictionary();\n  const [opened, setOpened] = useState(false);\n  const header = useRef<HTMLElement>(null);\n  const headerNode = header.current;\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [cookies, setCookie, removeCookie] = useCookies(['access-token']);\n  const {setAutorized} = useAuth();\n\n  const handleOpenMenu = useCallback(() => {\n    setOpened(!opened);\n  }, [opened]);\n\n  const handleCloseMenu = useCallback(() => {\n    setOpened(false);\n  }, []);\n\n  const handleLogOut = useCallback(() => {\n    removeCookie('access-token');\n    setAutorized(false);\n  }, [removeCookie, setAutorized]);\n\n  useEffect(() => {\n    if (headerNode) {\n      if (!opened) {\n        enableBodyScroll(headerNode)\n      } else {\n        disableBodyScroll(headerNode)\n      }\n    }\n    return () => clearAllBodyScrollLocks();\n  }, [headerNode, opened]);\n\n  const cls = opened ? 'open' : '';\n\n  return (\n    <header className=\"header\" ref={header}>\n      <div className=\"wrapper\">\n        <Link to={'/'} className=\"header__logo\">Irina <span>Konopka</span></Link>\n        <CSSTransition in={opened} classNames=\"fade-out\" timeout={200}>\n          <nav className={`header__nav ${cls}`}>\n            <HeaderNavLink onClick={handleCloseMenu} url={routes.interiors({})} label={nav.interiors}/>\n            <HeaderNavLink onClick={handleCloseMenu} url={routes.furniture({})} label={nav.furniture}/>\n            <HeaderNavLink onClick={handleCloseMenu} url={routes.about()} label={nav.about}/>\n            {autorized ? <HeaderNavLink onClick={handleCloseMenu} url={routes.adminDashboard()} label={nav.dashboard}/> : null}\n            {autorized ? <HeaderNavLink onClick={handleLogOut} url={routes.index()} label={nav.logout}/> : null}\n            <HeaderNavButton onClick={handleChangeLang} label={changeLangLabel}/>\n          </nav>\n        </CSSTransition>\n        <div onClick={handleOpenMenu} className={`header__hamburger ${cls}`}><span/><span/><span/></div>\n      </div>\n    </header>\n  );\n}","import { IntlContext } from 'context/ctxi18n';\nimport { useContextStrict } from 'hooks/useContextStrict';\n\nexport const useHandleChangeLang = () => {\n  const { handleChangeLang } = useContextStrict(IntlContext);\n\n  return handleChangeLang;\n}","import React, {FC} from 'react';\nimport {useIntlDictionary} from 'hooks/useDictionary';\n\nexport const Footer: FC = () => {\n  const i18n = useIntlDictionary();\n  const {writeMe} = i18n;\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"wrapper\">\n        <div className=\"footer__title\">{writeMe.left} <span>{writeMe.right}</span></div>\n        <nav className=\"footer__links\">\n          <a href=\"mailto:irina.id@gmail.com\" className=\"footer_links__item\">irina.id@gmail.com</a>\n          <a href=\"skype:username?add\" className=\"footer_links__item\">Skype irinakonopka</a>\n          <a href=\"https://www.instagram.com/irisha_konopka\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"footer_links__item\">Instagram</a>\n          <a href=\"https://www.behance.net/irinakonopka\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"footer_links__item\">Behance</a>\n        </nav>\n      </div>\n    </footer>\n  );\n}","import { TIntlDictionary, TIntl } from 'types/i18n';\n\nconst dictionary: TIntlDictionary = {\n  about: `<p>I am a multidisciplinary designer with a main focus on Digital Design and Branding, located in Thessaloniki,\n            Greece.\n          </p>\n          <p>Throughout my 11 years' experience I have worked in various advertising agencies as a Graphic /\n            Digital Designer and Art Director.\n          </p>\n          <p>For the last 3 years I have been working as a freelancer collaborating with\n            agencies and clients. I am also a member of the design team of Point Blank, Design & Drupal Digital agency.\n          </p>\n          <p>I am always glad to discuss collaborative projects and freelance commissions.</p>`,\n  changeLangLabel: 'en',\n  slogan: 'Красота в простоте',\n  slogans: [\n    'Красота\\nв простоте',\n    'Хороший\\nдизайн\\nэстетичен',\n    'Хороший\\nдизайн\\nненавязчив',\n    'Хороший\\nдизайн\\nчестен',\n    'Хороший\\nдизайн\\nне устаревает',\n  ],\n  nav: {\n    interiors: 'Интерьеры',\n    furniture: 'Мебель',\n    about: 'Обо мне',\n    dashboard: 'Админка',\n    logout: 'Выйти',\n  },\n  writeMe: {\n    left: 'Хотите проект?',\n    right: 'Напишите мне'\n  },\n  validation: {\n    required: 'Это обязательное поле'\n  },\n  ui: {\n    buttons: {\n      addPreview: 'Добавить превью',\n      addImages: 'Добавить изображения',\n    },\n    submit: {\n      add: 'Добавить',\n      update: 'Обновить',\n    }\n  }\n}\n\nexport const ruIntl: TIntl = {\n  langCode: 'ru',\n  dictionary\n};","import { TIntlDictionary, TIntl } from 'types/i18n';\n\nconst dictionary: TIntlDictionary = {\n  about: `<p>Я многопрофильный дизайнер с основным фокусом на цифровом дизайне и брендинге, нахожусь в Салониках,\n            Греция.</p>\n          <p>За 11 лет работы в различных рекламных агентствах я поработала графическим / цифровым дизайнером и арт-директором.</p>\n          <p>В течение последних 3 лет я работаю фрилансером, сотрудничая с агентствами и клиентами. Я также являюсь членом команды дизайнеров агентства Point Blank, Design & Drupal Digital.\n          </p>\n          <p>Я всегда рада обсудить совместные проекты и заказы по фрилансу.</p>`,\n  changeLangLabel: 'ru',\n  slogan: 'Beauty in simplicity',\n  slogans: [\n    'Beauty\\nin simplicity',\n    'Good design\\nis aesthetic',\n    'Good design\\nis unobtrusive',\n    'Good design\\nis honest',\n    'Good design\\ndoesn\\'t get old',\n  ],\n  nav: {\n    interiors: 'Interiors',\n    furniture: 'Furniture',\n    about: 'About',\n    dashboard: 'Dashboard',\n    logout: 'Logout',\n  },\n  writeMe: {\n    left: 'Need project?',\n    right: 'Write to me'\n  },\n  validation: {\n    required: 'Required field'\n  },\n  ui: {\n    buttons: {\n      addPreview: 'Add preview',\n      addImages: 'Add images',\n    },\n    submit: {\n      add: 'Add',\n      update: 'Update',\n    }\n  },\n}\n\nexport const enIntl: TIntl = {\n  langCode: 'en',\n  dictionary\n};","import React, { useCallback, useState } from 'react';\nimport { IntlContext } from 'context/ctxi18n';\nimport { ruIntl } from 'i18n/ru';\nimport { enIntl } from 'i18n/en';\n\nexport const IntlProvider: React.FC = ({children}) => {\n  const storeLang = localStorage.getItem('lang');\n  let intl = ruIntl;\n  const curLang = storeLang ? storeLang : 'ru';\n  if (curLang === 'en') {\n    intl = enIntl;\n  }\n\n  const [lang, setLang] = useState(intl.langCode);\n\n  const handleChangeLang = useCallback(() => {\n    if (lang === 'ru') {\n      localStorage.setItem('lang', 'en');\n      setLang(enIntl.langCode);\n    } else if (lang === 'en') {\n      localStorage.setItem('lang', 'ru');\n      setLang(ruIntl.langCode);\n    }\n  }, [lang]);\n\n  const isRu = lang === 'ru';\n\n  const value = {isRu, intl, handleChangeLang};\n\n  return (\n    <IntlContext.Provider value={value}>\n      {children}\n    </IntlContext.Provider>\n  );\n};","import React, { useEffect, FC } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router';\nimport {PAGE_ANIMATION_DURATION} from \"constants/common\";\n\nconst ScrollToTop: FC<RouteComponentProps> = ({ location: { pathname }, children }) => {\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, PAGE_ANIMATION_DURATION)\n  }, [pathname]);\n\n  return <>{children}</>;\n};\n\nexport default withRouter(ScrollToTop);\n","export const PAGE_ANIMATION_DURATION = 250;","export const springText = (target, message) => {\n    let COLOR = \"#16171F\";\n    let MESSAGE = message;\n\n    let FONT_SIZE = 100;\n    let ONE_LETTER_AMOUNT = 300;\n    let AMOUNT = MESSAGE.length * ONE_LETTER_AMOUNT;\n    let CLEAR_AMOUNT = 2;\n    let SIZE = 2;\n    let INITIAL_DISPLACEMENT = 100;\n    let INITIAL_VELOCITY = 5;\n    let VELOCITY_RETENTION = 0.95;\n    let SETTLE_SPEED = 1;\n    let FLEE_SPEED = 1;\n    let FLEE_DISTANCE = 50;\n    let FLEE = true;\n    let SCATTER_VELOCITY = 3;\n    let SCATTER = false;\n\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n        // Mobile\n        // MESSAGE = message;\n        ONE_LETTER_AMOUNT = 120;\n        AMOUNT = MESSAGE.length * ONE_LETTER_AMOUNT;\n        FONT_SIZE = 50;\n        SIZE = 2;\n        INITIAL_DISPLACEMENT = 100;\n        SETTLE_SPEED = 1;\n        FLEE = false;\n        SCATTER_VELOCITY = 2;\n    }\n\n// MAIN\n    FLEE_SPEED /= 10;\n    SETTLE_SPEED /= 100;\n    SCATTER_VELOCITY *= 10;\n    let CLEAR_RADIUS = Math.round(CLEAR_AMOUNT + SIZE);\n    let MOVED_O = Array.apply(null, Array(AMOUNT)).map(function () {return null;});\n\n    const canvas = target.current;\n    const ctx = canvas.getContext(\"2d\");\n    let POINTS = [];\n    let MOVED = [];\n    let moved_length = 0;\n    let MOUSE = {\n        x: 0,\n        y: 0\n    }\n\n    function Point(x,y,r,g,b,a) {\n        let angle = Math.random() * 6.28;\n        this.dest_x = x;\n        this.dest_y = y;\n        this.original_r = r;\n        this.original_g = g;\n        this.original_a = a;\n        this.lastx = 0;\n        this.lasty = 0;\n        this.x = canvas.width/2 - x + (Math.random() - 0.5) * INITIAL_DISPLACEMENT;\n        this.y = canvas.height/2 - y + (Math.random() - 0.5) * INITIAL_DISPLACEMENT;\n        this.velx = INITIAL_VELOCITY * Math.cos(angle);\n        this.vely = INITIAL_VELOCITY * Math.sin(angle);\n        this.target_x = canvas.width/2 - x;\n        this.target_y = canvas.height/2 - y;\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n        this.moved = false;\n        MOVED[moved_length] = this;\n        moved_length++;\n\n        this.getX = function() {\n            return this.x;\n        }\n\n        this.getY = function() {\n            return this.y;\n        }\n\n        this.fleeFrom = function(x, y) {\n            this.velx -= ((MOUSE.x - this.x) * FLEE_SPEED);\n            this.vely -= ((MOUSE.y - this.y) * FLEE_SPEED);\n        }\n\n        this.settleTo = function(x, y) {\n            this.velx = VELOCITY_RETENTION * (this.velx + (this.target_x - this.x) * SETTLE_SPEED);\n            this.vely = VELOCITY_RETENTION * (this.vely + (this.target_y - this.y) * SETTLE_SPEED);\n        }\n\n        this.scatter = function() {\n            let unit = this.unitVecTo(MOUSE.x, MOUSE.y);\n            let vel = SCATTER_VELOCITY * (0.5 + Math.random() / 2);\n            this.velx = -unit.x * vel;\n            this.vely = -unit.y * vel;\n        }\n\n        this.checkMove = function() {\n            this.moved = ((!Math.abs(Math.round(this.target_x - this.x)) == 0) || (!Math.abs(Math.round(this.target_y - this.y)) == 0) || (!Math.abs(Math.round(this.velx)) == 0) || (!Math.abs(Math.round(this.vely)) == 0));\n        }\n\n        this.simpleMove = function() {\n            this.checkMove();\n            if (!this.moved) {\n                return;\n            }\n\n            this.lastx = this.x;\n            this.lasty = this.y;\n            this.x += this.velx;\n            this.y += this.vely;\n            MOVED[moved_length] = this;\n            moved_length++;\n        }\n\n        this.move = function() {\n            if (this.distanceTo(MOUSE.x, MOUSE.y) <= FLEE_DISTANCE) {\n                this.fleeFrom(MOUSE.x, MOUSE.y);\n            }\n            else {\n                this.settleTo(this.target_x, this.target_y);\n            }\n            this.simpleMove();\n        }\n\n        this.distanceTo = function(x, y) {\n            let dx = x - this.x;\n            let dy = y - this.y;\n            return Math.sqrt(dx*dx+ dy*dy);\n        }\n\n        this.unitVecTo = function(x, y) {\n            let dx = x - this.x;\n            let dy = y - this.y;\n            let d = Math.sqrt(dx*dx + dy*dy);\n            return {\n                x: dx / d,\n                y: dy / d\n            };\n        }\n\n        this.inMotion = function() {\n            return this.moved;\n        }\n\n        this.clear = function() {\n            ctx.clearRect(this.lastx-CLEAR_RADIUS,this.lasty-CLEAR_RADIUS,CLEAR_RADIUS*2,CLEAR_RADIUS*2);\n        }\n\n        this.draw = function() {\n            ctx.fillStyle = \"rgba(\"+this.r+\",\"+this.g+\",\"+this.b+\",\"+this.a+\")\";\n            ctx.beginPath();\n            ctx.arc(this.x,this.y,SIZE,0,2*Math.PI);\n            ctx.fill();\n        }\n    }\n\n    const resizeHandler = function() {\n        resizeCanvas()\n        adjustText()\n    }\n\n    window.addEventListener(\"resize\", resizeHandler);\n\n    const moveHandler = function(event) {\n        MOUSE.x = event.clientX;\n        MOUSE.y = event.clientY;\n    };\n\n    if (FLEE) {\n        window.addEventListener(\"mousemove\", moveHandler);\n    }\n\n    const clickHandler = function(event) {\n        MOUSE.x = event.clientX;\n        MOUSE.y = event.clientY;\n        for (let i=0; i<POINTS.length; i++) {\n            POINTS[i].scatter();\n        }\n    }\n\n    if (SCATTER) {\n        window.addEventListener(\"click\", clickHandler);\n    }\n\n    function cleanCanvas() {\n        window.removeEventListener(\"resize\", resizeHandler);\n        if (FLEE) {\n            window.removeEventListener(\"mousemove\", moveHandler);\n        }\n        if (SCATTER) {\n            window.removeEventListener(\"click\", clickHandler);\n        }\n        POINTS = [];\n        MOVED = [];\n        ctx.clearRect(0,0,canvas.width,canvas.height);\n    }\n\n    function resizeCanvas() {\n        canvas.width  = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n    }\n\n    function adjustText() {\n        ctx.fillStyle = COLOR;\n        ctx.textBaseline = \"middle\";\n        ctx.textAlign = \"center\";\n        ctx.font = FONT_SIZE + \"px 'PT Root UI', sans-serif\";\n\n        const lines = MESSAGE.split('\\n');\n        const linesLength = lines.length;\n        const maxWidthLine = lines.reduce((acc, l) => {\n            if (acc.length < l.length) {\n                acc = l;\n            }\n            return acc;\n        }, '');\n        const centerHeight = (canvas.height - FONT_SIZE*linesLength + FONT_SIZE)/2\n\n        for (let i = 0; i < linesLength; i++) {\n            ctx.fillText(lines[i], canvas.width/2, (centerHeight + i*FONT_SIZE));\n        }\n\n        let textWidth = ctx.measureText(maxWidthLine + 10).width;\n        if (textWidth === 0) {\n            return;\n        }\n        let minX = canvas.width/2 - textWidth/2;\n        let minY = centerHeight - FONT_SIZE/2;\n        ctx.fill();\n        let data = ctx.getImageData(minX, minY, textWidth, FONT_SIZE * linesLength).data;\n        let isBlank = true;\n        for (let i=0; i<data.length; i++) {\n            if (data[i] !== 0) {\n                isBlank = false;\n                break;\n            }\n        }\n\n        if (!isBlank) {\n            let count = 0;\n            let curr = 0;\n            let num = 0;\n            let x = 0;\n            let y = 0;\n            let w = Math.floor(textWidth);\n            POINTS = [];\n            while (count < AMOUNT) {\n                while (curr === 0) {\n                    num = Math.floor(Math.random() * data.length);\n                    curr = data[num];\n                }\n                num = Math.floor(num / 4);\n                x = w/2 - num%w;\n                y = FONT_SIZE * linesLength/2 - Math.floor(num/w);\n                POINTS.push(new Point(x,y,data[num*4],data[num*4 + 1],data[num*4 + 2],data[num*4 + 3]));\n                curr = 0;\n                count++;\n            }\n        }\n    }\n\n    function init() {\n        resizeCanvas()\n        adjustText()\n        window.requestAnimationFrame(animate);\n    }\n\n    function animate() {\n        update();\n        draw();\n    }\n\n    function update() {\n        for (let i=0; i<POINTS.length; i++) {\n            POINTS[i].move()\n        }\n    }\n\n    function draw() {\n        for (let i=0; i<moved_length; i++) {\n            MOVED[i].clear();\n        }\n        MOVED = MOVED_O;\n        moved_length = 0;\n\n        for (let i=0; i<POINTS.length; i++) {\n            POINTS[i].draw()\n        }\n\n        window.requestAnimationFrame(animate);\n    }\n\n    return {init, cleanCanvas}\n}","import React, { FC, useRef, useEffect } from 'react';\nimport { springText } from './useSpringText.js';\nimport { useIntlDictionary } from 'hooks/useDictionary';\n\nexport const IndexPage: FC = () => {\n  const i18n = useIntlDictionary();\n  const {slogans} = i18n;\n  const canvas = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const storageArray = sessionStorage.getItem('nums');\n    let usedNums = storageArray ? storageArray.split(',') : [];\n\n    if (usedNums.length === slogans.length) {\n      usedNums = [];\n    }\n    let rand = Math.floor(Math.random() * slogans.length);\n    while (usedNums.includes(`${rand}`)) {\n      rand = Math.floor(Math.random() * slogans.length);\n    }\n    usedNums.push(`${rand}`);\n    sessionStorage.setItem('nums', `${usedNums.toString().split(',')}`);\n\n    const {init, cleanCanvas} = springText(canvas, slogans[rand]);\n    init();\n    return () => cleanCanvas();\n  }, [slogans]);\n\n  return (\n    <div className=\"index-page\">\n      <canvas ref={canvas}/>\n    </div>\n  )\n}","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\ntype TProps = {\n  label: string;\n  url: string;\n  imageSrc?: string;\n};\n\nexport const CatalogPageImage: FC<TProps> = ({label, url, imageSrc}) => {\n    return (\n      <div>\n        <Link to={url} data-text={label}>\n            <img src={`http://localhost:3005/images/${imageSrc}`} alt=\"\"/>\n        </Link>\n      </div>\n    );\n}\n","import { IntlContext } from 'context/ctxi18n';\nimport { useContextStrict } from 'hooks/useContextStrict';\n\nexport const useCurrentLang = () => {\n  const { isRu } = useContextStrict(IntlContext);\n\n  return isRu;\n}","import React, {FC} from 'react';\nimport {useMemo} from \"react\";\nimport {TFurnitureParams, TInteriorsParams} from \"utils/routes\";\nimport {CatalogPageImage} from \"./styled/CatalogPageImage\";\nimport {useCurrentLang} from \"hooks/useCurrentLang\";\nimport {TInterior} from \"types/common\";\n\ntype TProps = {\n  data: TInterior[];\n  baseUrl: ({id}: TInteriorsParams | TFurnitureParams) => string;\n}\nexport const CatalogPage: FC<TProps> = ({data, baseUrl}) => {\n  const isRu = useCurrentLang();\n  const catalog = useMemo(() => {\n    return data.map((item: TInterior) => {\n      return <CatalogPageImage key={item._id} label={isRu ? item.nameRu : item.nameEn} url={baseUrl({id: item._id})} imageSrc={item.previewUrl}/>\n    });\n  }, [baseUrl, data, isRu]);\n\n  return (\n    <div className=\"catalog\">\n      {catalog}\n    </div>\n  )\n}","import gql from \"graphql-tag\";\nimport {TInterior} from \"types/common\";\n\nexport type T_GET_ALL_INTERIORS = {\n    interiors: TInterior[]\n}\n\nexport const GET_ALL_INTERIORS = gql`\n  query interiorsQuery {\n    interiors {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  `;\n\nexport type T_GET_INTERIOR_BY_ID = {\n    interiorById: TInterior\n}\nexport type T_VAR_GET_INTERIOR_BY_ID = {\n    _id: string\n}\n\nexport const GET_INTERIOR_BY_ID = gql`\n  query interiorByIdQuery($_id: ObjectId) {\n    interiorById(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  `;\n\nexport type T_GET_PREV_INTERIOR_BY_ID = {\n    interiorPrevious: TInterior\n}\nexport type T_VAR_PREV_INTERIOR_BY_ID = {\n    _id: string\n}\n\nexport const GET_PREV_INTERIOR_BY_ID = gql`\n  query interiorPreviousQuery($_id: ObjectId) {\n    interiorPrevious(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  `;\n\nexport type T_GET_NEXT_INTERIOR_BY_ID = {\n    interiorNext: TInterior\n}\nexport type T_VAR_NEXT_INTERIOR_BY_ID = {\n    _id: string\n}\n\nexport const GET_NEXT_INTERIOR_BY_ID = gql`\n  query interiorNextQuery($_id: ObjectId) {\n    interiorNext(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  `;\n","import React, {FC, useMemo} from 'react';\nimport {routes} from 'utils/routes';\nimport {CatalogPage} from \"components/CatalogPage/CatalogPage\";\nimport {GET_ALL_INTERIORS, T_GET_ALL_INTERIORS} from \"queries/interiors\";\nimport {useQuery} from \"@apollo/react-hooks\";\n\nexport const InteriorsPage: FC = () => {\n  const {loading, error, data} = useQuery<T_GET_ALL_INTERIORS>(GET_ALL_INTERIORS);\n  const interiors = null || (data && data.interiors);\n\n  return useMemo(() => (\n    <>\n      {!interiors && <div>{error && error.message}</div>}\n      {\n        !loading && interiors &&\n        <div className=\"interiors-page\">\n          <CatalogPage data={interiors} baseUrl={routes.interiors}/>\n        </div>\n      }\n    </>\n  ), [error, interiors, loading])\n};\n","// видимость элемента без удаления из DOM\nimport { ReactElement, cloneElement } from 'react';\nimport * as React from \"react\";\n\nexport const isVisible = (condition: boolean) => (condition ? {} : { display: 'none' } as React.CSSProperties);\n\nexport const isHidden = (condition: boolean) => (condition ? {} : { visibility: 'hidden', pointerEvents: 'none' } as React.CSSProperties);\n\n// добавляет класс по условию\nexport const setActiveClass = (condition: boolean, className: string) => (condition ? className : '');\n\n// решает проблему динамической сменой направления анимации в transitionGroup\nexport const childFactoryCreator = (classNames: string) => (child: ReactElement) =>\n  cloneElement(child, {\n    classNames\n  });\n\n// для добавления оффсета на хэш навигации\nexport const scrollWithOffset = (el: any, offset: number) => {\n  const elementPosition = el.offsetTop + offset;\n  window.scroll({\n    top: elementPosition,\n    left: 0\n  });\n};\n","import React, {FC, useMemo} from 'react';\nimport { routes } from 'utils/routes';\nimport { Link } from 'react-router-dom';\nimport {isHidden} from \"utils/common\";\nimport {useCurrentLang} from \"hooks/useCurrentLang\";\nimport {TFurniture, TInterior} from \"types/common\";\n\ntype TCatalogItem = {\n  currentItem: TInterior | TFurniture;\n  prevItem: TInterior | TFurniture;\n  nextItem: TInterior | TFurniture;\n  handlePrevItem: () => void;\n  handleNextItem: () => void;\n}\n\nexport const CatalogPageItem: FC<TCatalogItem> = ({currentItem, prevItem, nextItem, handlePrevItem, handleNextItem}) => {\n  const {nameRu, typeRu, yearRu, descriptionRu, nameEn, typeEn, yearEn, descriptionEn, picturesUrl} = currentItem;\n\n  const isRu = useCurrentLang();\n  const name = isRu ? nameRu : nameEn;\n  const type = isRu ? typeRu : typeEn;\n  const year = isRu ? yearRu : yearEn;\n  const description = isRu ? descriptionRu : descriptionEn;\n  const prevItemName = prevItem && (isRu ? prevItem.nameRu : prevItem.nameEn);\n  const nextItemName = nextItem && (isRu ? nextItem.nameRu : nextItem.nameEn);\n\n  const catalogImages = useMemo(() => {\n    return picturesUrl.map((url) => (\n      <img key={url} src={`http://localhost:3005/images/${url}`} alt=\"\"/>\n    ))\n  }, [picturesUrl]);\n\n  return (\n    <div className=\"catalog-item\">\n      <div className=\"catalog-item__left\">\n        <div className=\"catalog-item_left__inner\">\n          <Link to={routes.interiors({})} className=\"catalog-item__back\"/>\n          <div className=\"catalog-item__title\">{name}</div>\n          <div className=\"catalog-item__type\">Тип: {type}</div>\n          <div className=\"catalog-item__year\">Год: {year}</div>\n          <div className=\"catalog-item__description\">{description}</div>\n        </div>\n      </div>\n      <div className=\"catalog-item__images\">\n        {catalogImages}\n      </div>\n      <div className=\"catalog-item__right\">\n        <div className=\"catalog-item_right__inner\">\n          <div className=\"catalog-item__navigation\">\n            <div className=\"catalog-item_navigation-item catalog-item_navigation-item--left\" style={isHidden(!!prevItem)} onClick={handlePrevItem}><span/>{prevItem ? prevItemName : name}</div>\n            <div className=\"catalog-item_navigation-item catalog-item_navigation-item--right\" style={isHidden(!!nextItem)} onClick={handleNextItem}>{nextItem ? nextItemName : name}<span/></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, {FC, useCallback} from 'react';\nimport {routes, TInteriorMatch} from 'utils/routes';\nimport {CatalogPageItem} from \"components/CatalogPageItem/CatalogPageItem\";\nimport {GET_INTERIOR_BY_ID, GET_NEXT_INTERIOR_BY_ID, GET_PREV_INTERIOR_BY_ID, T_GET_INTERIOR_BY_ID, T_GET_NEXT_INTERIOR_BY_ID, T_GET_PREV_INTERIOR_BY_ID, T_VAR_GET_INTERIOR_BY_ID, T_VAR_NEXT_INTERIOR_BY_ID, T_VAR_PREV_INTERIOR_BY_ID} from \"queries/interiors\";\nimport {History} from \"history\";\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {match} from \"react-router\";\n\ntype TProps = {\n  history: History;\n  match: match<TInteriorMatch>;\n}\n\nexport const InteriorsPageItem: FC<TProps> = (props) => {\n  const {match, history} = props;\n  const {loading, data} = useQuery<T_GET_INTERIOR_BY_ID, T_VAR_GET_INTERIOR_BY_ID>(GET_INTERIOR_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {loading: loadingPrev, error: errorPrev, data: dataPrev} = useQuery<T_GET_PREV_INTERIOR_BY_ID, T_VAR_PREV_INTERIOR_BY_ID>(GET_PREV_INTERIOR_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {loading: loadingNext, error: errorNext, data: dataNext} = useQuery<T_GET_NEXT_INTERIOR_BY_ID, T_VAR_NEXT_INTERIOR_BY_ID>(GET_NEXT_INTERIOR_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  const {interiorById} = data!;\n  const {interiorPrevious} = dataPrev!;\n  const {interiorNext} = dataNext!;\n\n  const loaded = !loading && !loadingPrev && !loadingNext;\n\n  const handlePrevItem = useCallback(() => {\n    history.push(routes.interiors({id: interiorPrevious._id}));\n  }, [history, interiorPrevious]);\n\n  const handleNextItem = useCallback(() => {\n    history.push(routes.interiors({id: interiorNext._id}));\n  }, [history, interiorNext]);\n\n  return <>\n    {loaded && <CatalogPageItem currentItem={interiorById} prevItem={interiorPrevious} nextItem={interiorNext} handlePrevItem={handlePrevItem} handleNextItem={handleNextItem}/>}\n  </>\n}","import gql from \"graphql-tag\";\nimport {TFurniture, TInterior} from \"types/common\";\n\nexport type T_GET_ALL_FURNITURE = {\n    furniture: TFurniture[]\n}\n\nexport const GET_ALL_FURNITURE = gql`\n  query furnitureQuery {\n    furniture {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  `;\n\nexport type T_GET_FURNITURE_BY_ID = {\n    furnitureById: TFurniture\n}\nexport type T_VAR_GET_FURNITURE_BY_ID = {\n    _id: string\n}\n\nexport const GET_FURNITURE_BY_ID = gql`\n  query furnitureByIdQuery($_id: ObjectId) {\n    furnitureById(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  `;\n\nexport type T_GET_PREV_FURNITURE_BY_ID = {\n    furniturePrevious: TInterior\n}\nexport type T_VAR_PREV_FURNITURE_BY_ID = {\n    _id: string\n}\n\nexport const GET_PREV_FURNITURE_BY_ID = gql`\n  query furniturePreviousQuery($_id: ObjectId) {\n    furniturePrevious(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  `;\n\nexport type T_GET_NEXT_FURNITURE_BY_ID = {\n    furnitureNext: TInterior\n}\nexport type T_VAR_NEXT_FURNITURE_BY_ID = {\n    _id: string\n}\n\nexport const GET_NEXT_FURNITURE_BY_ID = gql`\n  query furnitureNextQuery($_id: ObjectId) {\n    furnitureNext(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  `;","import React, {FC, useMemo} from 'react';\nimport {routes} from 'utils/routes';\nimport {CatalogPage} from \"components/CatalogPage/CatalogPage\";\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {GET_ALL_FURNITURE, T_GET_ALL_FURNITURE} from \"queries/furniture\";\n\nexport const FurniturePage: FC = () => {\n  const {loading, error, data} = useQuery<T_GET_ALL_FURNITURE>(GET_ALL_FURNITURE);\n  const furniture = null || (data && data.furniture);\n\n  return useMemo(() => (\n    <>\n      {!furniture && <div>{error && error.message}</div> }\n      {\n        !loading && furniture &&\n        <div className=\"furniture-page\">\n          <CatalogPage data={furniture} baseUrl={routes.furniture}/>\n        </div>\n      }\n    </>\n  ), [error, furniture, loading])\n}","import React, {FC, useCallback} from 'react';\nimport {routes, TFurnitureMatch} from 'utils/routes';\nimport {CatalogPageItem} from \"components/CatalogPageItem/CatalogPageItem\";\nimport {History} from \"history\";\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {match} from \"react-router\";\nimport {GET_FURNITURE_BY_ID, GET_NEXT_FURNITURE_BY_ID, GET_PREV_FURNITURE_BY_ID, T_GET_FURNITURE_BY_ID, T_GET_NEXT_FURNITURE_BY_ID, T_GET_PREV_FURNITURE_BY_ID, T_VAR_GET_FURNITURE_BY_ID, T_VAR_NEXT_FURNITURE_BY_ID, T_VAR_PREV_FURNITURE_BY_ID} from \"queries/furniture\";\n\ntype TProps = {\n  history: History;\n  match: match<TFurnitureMatch>;\n}\n\nexport const FurniturePageItem: FC<TProps> = (props) => {\n  const {match, history} = props;\n  const {loading, data} = useQuery<T_GET_FURNITURE_BY_ID, T_VAR_GET_FURNITURE_BY_ID>(GET_FURNITURE_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {loading: loadingPrev, error: errorPrev, data: dataPrev} = useQuery<T_GET_PREV_FURNITURE_BY_ID, T_VAR_PREV_FURNITURE_BY_ID>(GET_PREV_FURNITURE_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {loading: loadingNext, error: errorNext, data: dataNext} = useQuery<T_GET_NEXT_FURNITURE_BY_ID, T_VAR_NEXT_FURNITURE_BY_ID>(GET_NEXT_FURNITURE_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  const {furnitureById} = data!;\n  const {furniturePrevious} = dataPrev!;\n  const {furnitureNext} = dataNext!;\n\n  const loaded = !loading && !loadingPrev && !loadingNext;\n\n  const handlePrevItem = useCallback(() => {\n    if (furniturePrevious) {\n      history.push(routes.furniture({id: furniturePrevious._id}));\n    }\n  }, [history, furniturePrevious]);\n\n  const handleNextItem = useCallback(() => {\n    if (furnitureNext) {\n      history.push(routes.furniture({id: furnitureNext._id}));\n    }\n  }, [history, furnitureNext]);\n\n  return (\n    <>\n      {loaded && <CatalogPageItem currentItem={furnitureById} prevItem={furniturePrevious} nextItem={furnitureNext} handlePrevItem={handlePrevItem} handleNextItem={handleNextItem}/>}\n    </>\n  );\n}","import React, {FC} from 'react';\nimport sample from 'images/sample.jpg';\nimport {useIntlDictionary} from \"hooks/useDictionary\";\n\nexport const AboutPage: FC = () => {\n  const intl = useIntlDictionary();\n  return (\n    <div className=\"about-page\">\n      <div className=\"about__card\">\n        <div className=\"about_card__inner\">\n          <div className=\"about_card__image\">\n            <img src={sample} alt=\"\"/>\n          </div>\n          <div className=\"about_card__text\" dangerouslySetInnerHTML={{__html: intl.about}}>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, {FC} from 'react';\n\ninterface TProps extends React.HTMLProps<HTMLInputElement> {\n  placeholder: string;\n  errorMessage?: string;\n  animationError?: boolean;\n  hintMessage?: string;\n  type?: string;\n}\n\nexport const FormInput: FC<TProps> = (props) => {\n  const {placeholder, errorMessage, hintMessage, type = 'text', animationError, ...forwardProps} = props;\n  const error = errorMessage && errorMessage.length !== 0 ? 'form-control__input--error' : '';\n  const animation = animationError ? 'form-control__input--animate-error form-control__input--error' : '';\n  return (\n    <>\n      <input {...forwardProps} className={`form-control form-control__input ${error} ${animation}`} type={type} placeholder={placeholder}/>\n      {/*<div>{errorMessage}</div>*/}\n      {/*<div>{hintMessage}</div>*/}\n    </>\n  );\n}\n","import gql from \"graphql-tag\";\n\nexport type T_ADMIN_LOGIN = {\n  adminLogin: {\n    password: string;\n  }[]\n}\n\nexport const ADMIN_REGISTER = gql`\n  mutation adminRegister($password: String! ) {\n    adminRegister(password: $password) {\n      password,\n    }\n  }\n`;\n\nexport const ADMIN_LOGIN = gql`\n  mutation adminLogin($password: String! ) {\n    adminLogin(password: $password) {\n      password,\n    }\n  }\n`;\n\nexport const CHECK_TOKEN = gql`\n  query checkToken {\n    checkToken\n  }\n`;","import React, {FC, useCallback, useState} from 'react';\nimport {FormInput} from \"components/FormInput/FormInput\";\nimport {useMutation} from \"@apollo/react-hooks\";\nimport {ADMIN_LOGIN} from \"queries/admin\";\nimport {routes} from \"utils/routes\";\nimport {History} from \"history\";\nimport {useAuth} from \"hooks/useAuth\";\n\ntype TProps = {\n  history: History\n}\n\nexport const AdminLoginPage: FC<TProps> = ({history}) => {\n  const [passError, setPassError] = useState(false);\n  const {setAutorized} = useAuth();\n  const [adminLogin] = useMutation(ADMIN_LOGIN, {\n    onCompleted: ({adminLogin}) => {\n      if (adminLogin === null) {\n        setPassError(true);\n        setTimeout(() => {\n          setPassError(false);\n        }, 500)\n      } else {\n        setAutorized(true);\n        history.push(routes.adminDashboard());\n      }\n    }\n  });\n\n  const handleSubmit = useCallback((e) => {\n    if (e.charCode === 13 || e.keyCode === 13) {\n      adminLogin({\n        variables: {\n          password: e.target.value,\n        }\n      });\n      e.target.value = '';\n    }\n  }, [adminLogin]);\n\n  return (\n    <div className=\"admin-page\">\n      <div className=\"form__center\">\n        <FormInput name=\"password\" type='password' onKeyPress={e => handleSubmit(e)} onSubmit={e => handleSubmit(e)} placeholder='Пароль' animationError={passError}/>\n      </div>\n    </div>\n  );\n}","import React, {FC} from 'react';\n\nexport const App404: FC = () => (\n  <div className=\"app-404\">\n    404\n  </div>\n);","import React, {FC} from 'react';\nimport {Route, Switch} from \"react-router\";\nimport {IndexPage} from \"contaiters/IndexPage/IndexPage\";\nimport {routes} from \"utils/routes\";\nimport {InteriorsPage} from \"contaiters/InteriorsPage/InteriorsPage\";\nimport {InteriorsPageItem} from \"contaiters/InteriorsPageItem/InteriorsPageItem\";\nimport {FurniturePage} from \"contaiters/FurniturePage/FurniturePage\";\nimport {FurniturePageItem} from \"contaiters/FurniturePageItem/FurniturePageItem\";\nimport {AboutPage} from \"contaiters/AboutPage/AboutPage\";\nimport {AdminLoginPage} from \"contaiters/AdminPage/AdminLoginPage\";\nimport {Location} from \"history\";\nimport {App404} from \"contaiters/App404/App404\";\n\ntype TProps = {\n  location: Location;\n}\n\nexport const AppGuestRoutes: FC<TProps> = ({location}) => (\n  <Switch location={location}>\n    <Route path=\"/\" exact component={IndexPage}/>\n    <Route path={routes.interiors({})} exact component={InteriorsPage}/>\n    <Route path={routes.interiorsPattern()} exact component={InteriorsPageItem}/>\n    <Route path={routes.furniture({})} exact component={FurniturePage}/>\n    <Route path={routes.furniturePattern()} exact component={FurniturePageItem}/>\n    <Route path={routes.about()} exact component={AboutPage}/>\n    <Route path={routes.admin()} exact component={AdminLoginPage}/>\n    <Route component={App404}/>\n  </Switch>\n);\n","import gql from \"graphql-tag\";\n\nexport const ADD_INTERIOR = gql`\n  mutation addInterior($nameRu: String!, $typeRu: String!, $yearRu: String!, $descriptionRu: String!, $nameEn: String!, $typeEn: String!, $yearEn: String!, $descriptionEn: String!, $preview: Upload!, $images: Upload!) {\n    addInterior(nameRu: $nameRu, typeRu: $typeRu, yearRu: $yearRu, descriptionRu: $descriptionRu, nameEn: $nameEn, typeEn: $typeEn, yearEn: $yearEn, descriptionEn: $descriptionEn, preview: $preview, images: $images) {\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      preview,\n      images\n    }\n  }\n  `;\n\nexport const UPDATE_INTERIOR = gql`\n  mutation updateInterior($_id: ObjectId, $nameRu: String!, $typeRu: String!, $yearRu: String!, $descriptionRu: String!, $nameEn: String!, $typeEn: String!, $yearEn: String!, $descriptionEn: String!, $previewUrl: String!, $newPreview: Upload!, $imagesOrder: [String]!, $addedFiles: [Upload]!, $removedImagesUrls: [String]!) {\n    updateInterior(_id: $_id, nameRu: $nameRu, typeRu: $typeRu, yearRu: $yearRu, descriptionRu: $descriptionRu, nameEn: $nameEn, typeEn: $typeEn, yearEn: $yearEn, descriptionEn: $descriptionEn, previewUrl: $previewUrl, newPreview: $newPreview, imagesOrder: $imagesOrder, addedFiles: $addedFiles, removedImagesUrls: $removedImagesUrls) {\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      newPreview,\n      imagesOrder,\n      addedFiles,\n      removedImagesUrls\n    }\n  }\n  `;\n\nexport const DELETE_INTERIOR = gql`\n  mutation deleteInterior($_id: ObjectId, $previewUrl: String!, $picturesUrl: [String]! ) {\n    deleteInterior(_id: $_id, previewUrl: $previewUrl, picturesUrl: $picturesUrl) {\n      _id,\n      previewUrl,\n      picturesUrl\n    }\n  }\n  `;","import React from 'react';\n\ntype TProps = {\n  initModal: (title: string, onConfirm: () => void) => void;\n  openModal: (opened: boolean) => void;\n}\n\nexport const ModalContext = React.createContext<null | TProps>(null);\n","import React, {FC, useCallback, useMemo} from 'react';\nimport {GET_ALL_INTERIORS, T_GET_ALL_INTERIORS} from \"queries/interiors\";\nimport {Link} from 'react-router-dom';\nimport {routes} from \"utils/routes\";\nimport {useMutation, useQuery} from \"@apollo/react-hooks\";\nimport {GET_ALL_FURNITURE, T_GET_ALL_FURNITURE} from \"queries/furniture\";\nimport {DELETE_INTERIOR} from \"queries/mutations\";\nimport {useModal} from \"hooks/useModal\";\n\nexport const AdminDashboardPage: FC = () => {\n  const {loading: loadingInteriors, error: errorInteriors, data: dataInteriors} = useQuery<T_GET_ALL_INTERIORS>(GET_ALL_INTERIORS);\n  const {loading: loadingFurniture, error: errorFurniture, data: dataFurniture} = useQuery<T_GET_ALL_FURNITURE>(GET_ALL_FURNITURE);\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [deleteInterior, { loading: deleteLoading, error: deleteError, called: deleteCalled }] = useMutation(DELETE_INTERIOR, {onCompleted: () => openModal(false)});\n  const {initModal, openModal} = useModal();\n  const interiors = null || (dataInteriors && dataInteriors.interiors);\n  const furniture = null || (dataFurniture && dataFurniture.furniture);\n\n  const handleOpenModal = useCallback(({_id, previewUrl, picturesUrl}) => {\n    const actionParams  = {\n      variables: {\n        _id,\n        previewUrl,\n        picturesUrl,\n      },\n      refetchQueries: [ { query: GET_ALL_INTERIORS }],\n    };\n\n    initModal('Вы действительно хотите удалить?', () => deleteInterior(actionParams));\n    openModal(true);\n  }, [deleteInterior, initModal, openModal]);\n\n  const listInteriors = useMemo(() => {\n    if (errorInteriors) {\n      return errorInteriors.message\n    }\n    return interiors && interiors.map((interior) => {\n      return (\n        <div key={interior._id} className=\"articles_list__item\">\n          <div className=\"articles_list_item__name\">{interior.nameRu}</div>\n          <Link className=\"articles_list_item__btn articles_list_item__btn--edit\" to={routes.adminEditInterior({id: interior._id})}>Редактрировать</Link>\n          <div className=\"articles_list_item__btn articles_list_item__btn--delete\" onClick={() => handleOpenModal(interior)}>Удалить</div>\n        </div>\n      )\n    });\n  }, [errorInteriors, handleOpenModal, interiors]);\n\n  const listFurniture = useMemo(() => {\n    if (errorFurniture) {\n      return errorFurniture.message\n    }\n    return furniture && furniture.map((furnitur) => {\n      return (\n        <div key={furnitur._id} className=\"articles_list__item\">\n          <div className=\"articles_list_item__name\">{furnitur.nameRu}</div>\n          <div className=\"articles_list_item__btn articles_list_item__btn--edit\">Редактрировать</div>\n          <div className=\"articles_list_item__btn articles_list_item__btn--delete\">Удалить</div>\n        </div>\n      )\n    });\n  }, [errorFurniture, furniture]);\n\n  return (\n    <div className=\"admin-page\">\n      <div className=\"articles\">\n        <div className=\"articles__list\">\n          <div className=\"articles_list__title\">Интерьеры</div>\n          {!loadingInteriors && listInteriors}\n          {!errorInteriors && <Link className=\"form-control__button\" to={routes.adminAddInterior()}>Добавить</Link>}\n        </div>\n        <div className=\"articles__list\">\n          <div className=\"articles_list__title\">Мебель</div>\n          {!loadingFurniture && listFurniture}\n          {!errorFurniture && <div className=\"form-control__button\">Добавить</div>}\n        </div>\n      </div>\n    </div>\n  );\n}","import {useContextStrict} from 'hooks/useContextStrict';\nimport {ModalContext} from \"context/ctxModal\";\n\nexport const useModal = () => {\n  const { initModal, openModal } = useContextStrict(ModalContext);\n\n  return { initModal, openModal};\n}","import React, {Dispatch, SetStateAction} from 'react';\nimport {UserFile} from \"types/common\";\n\ntype TProps = {\n  multiFiles: (UserFile | string)[];\n  removedImagesUrls: string[];\n  setMultiFiles: Dispatch<SetStateAction<(string | UserFile)[]>>\n  setRemovedImagesUrls: Dispatch<SetStateAction<string[]>>\n}\n\nexport const UploadMultiFilesContext = React.createContext<null | TProps>(null);\n","import React, {Dispatch, SetStateAction} from 'react';\nimport {UserFile} from \"types/common\";\n\ntype TProps = {\n  singleFile: UserFile | string;\n  setSingleFile: Dispatch<SetStateAction<string | UserFile>>\n}\n\nexport const UploadSingleFileContext = React.createContext<null | TProps>(null);\n","import React, {FC} from 'react';\n\ntype TProps = {\n  src: string;\n  draggable?: boolean;\n  dataUrl?: string;\n  dataIndex?: number;\n  onDelete?: (event: any) => void;\n  onDragStart?: (event: any) => void;\n  onDragOver?: (event: any) => void;\n  onDragEnter?: (event: any) => void;\n  onDragLeave?: (event: any) => void;\n  onDrop?: (event: any) => void;\n  onDragEnd?: (event: any) => void;\n};\n\nexport const FileControlPreview: FC<TProps> = (props) => {\n  const { dataUrl, dataIndex, src, draggable, onDelete, onDragStart, onDragOver, onDragEnter, onDragLeave, onDrop, onDragEnd } = props;\n\n  return (\n    <div className=\"dropzone_preview__item\" draggable={draggable}\n         onDragStart={onDragStart && ((e) => onDragStart(e))}\n         onDragOver={onDragOver && ((e) => onDragOver(e))}\n         onDragEnter={onDragEnter && ((e) => onDragEnter(e))}\n         onDragLeave={onDragLeave && ((e) => onDragLeave(e))}\n         onDrop={onDrop && ((e) => onDrop(e))}\n         onDragEnd={onDragEnd && ((e) => onDragEnd(e))}\n    >\n      <div className=\"dropzone_preview_item__inner\">\n        {onDelete && <div className=\"dropzone_preview_item__delete-btn\" onClick={(e) => onDelete(e)}/>}\n        <img src={src} data-index={dataIndex} data-url={dataUrl} alt={''}/>\n      </div>\n    </div>\n  );\n}\n","import React, {FC, useCallback, useEffect, useMemo} from 'react';\nimport InputFiles from \"react-input-files\";\nimport {useContextStrict} from \"hooks/useContextStrict\";\nimport {UploadMultiFilesContext} from \"context/ctxUploadMultiFiles\";\nimport {UploadSingleFileContext} from \"context/ctxUploadSingleFile\";\nimport {FileControlPreview} from \"components/FileControl/FileControlPreview\";\nimport {useFileControlModel} from \"components/FileControl/useFileControlModel\";\n\ninterface UserFile extends File {\n  preview: string;\n}\n\ntype TProps = {\n  label: string;\n  multiple?: boolean;\n  previewUrl?: string;\n  errorValidationClass?: string;\n}\n\nexport const FileControl: FC<TProps> = (props) => {\n  const {previewUrl, label, multiple, errorValidationClass} = props;\n  const {handleDragStart, handleDrop, handleDragOver, handleDragEnter, handleDragLeave, handleDragEnd, handleDeleteFile} = useFileControlModel();\n  const {multiFiles, setMultiFiles, setRemovedImagesUrls} = useContextStrict(UploadMultiFilesContext);\n  const {singleFile, setSingleFile} = useContextStrict(UploadSingleFileContext);\n\n  useEffect(() => {\n    return () => {\n      setMultiFiles([]);\n      setRemovedImagesUrls([]);\n      setSingleFile('');\n    }\n  }, [setRemovedImagesUrls, setMultiFiles, setSingleFile]);\n\n  const handleSetFiles = useCallback((files: FileList) => {\n    if (!multiple) {\n      const fileWithPreview = Object.assign(files[0], {\n        preview: URL.createObjectURL(files[0])\n      });\n      setSingleFile(fileWithPreview);\n    } else {\n      const filesWithPreview = Array.from(files).map(file => Object.assign(file, {\n        preview: URL.createObjectURL(file)\n      }));\n\n      const uniqueFiles = filesWithPreview.reduce((acc: UserFile[], el: UserFile) => {\n        if (!(multiFiles as UserFile[]).find(({lastModified}) => el.lastModified === lastModified)) {\n          acc.push(el);\n        }\n        return acc;\n      }, []);\n\n      if (uniqueFiles.length !== 0) {\n        setMultiFiles([...multiFiles, ...uniqueFiles]);\n      }\n    }\n  }, [multiple, setSingleFile, setMultiFiles, multiFiles]);\n\n  //render\n  const multiFilesPreviews = useMemo(() => {\n    return multiFiles.map(file => {\n      const isUrl = typeof file === \"string\";\n      if (isUrl) {\n        const url = file as string;\n        return (\n          <FileControlPreview src={`http://localhost:3005/images/${url}`}\n                              key={url} dataUrl={url} draggable={true}\n                              onDelete={handleDeleteFile}\n                              onDragEnd={handleDragEnd}\n                              onDragEnter={handleDragEnter}\n                              onDragLeave={handleDragLeave}\n                              onDragOver={handleDragOver}\n                              onDragStart={handleDragStart}\n                              onDrop={handleDrop}\n          />\n        );\n      } else {\n        file = file as UserFile;\n        const fileIndex = multiFiles.indexOf(file);\n        return (\n          <FileControlPreview src={file.preview}\n                              key={file.name} dataIndex={fileIndex} draggable={true}\n                              onDelete={handleDeleteFile}\n                              onDragEnd={handleDragEnd}\n                              onDragEnter={handleDragEnter}\n                              onDragLeave={handleDragLeave}\n                              onDragOver={handleDragOver}\n                              onDragStart={handleDragStart}\n                              onDrop={handleDrop}\n          />\n        )\n      }\n    });\n  }, [multiFiles, handleDragStart, handleDragOver, handleDragEnter, handleDragLeave, handleDrop, handleDragEnd, handleDeleteFile]);\n\n  const singleFilePreview = useMemo(() => {\n    const file = singleFile as UserFile;\n    if (previewUrl && typeof singleFile === \"string\") {\n      return (\n        <FileControlPreview src={`http://localhost:3005/images/${previewUrl}`} key={previewUrl}/>\n      )\n    } else {\n      if (!file) {\n        return null;\n      }\n      return (\n        <FileControlPreview src={file.preview} key={file.name}/>\n      )\n    }\n  }, [previewUrl, singleFile]);\n\n  return (\n    <div className=\"form-control form-control__dropzone\">\n      <InputFiles onChange={handleSetFiles} multiple={multiple}>\n        <div className={`form-control form-control__button ${errorValidationClass}`}>{label}</div>\n      </InputFiles>\n      <div className=\"dropzone__preview\">\n        {!multiple && singleFilePreview}\n        {multiple && multiFilesPreviews}\n      </div>\n    </div>\n  );\n}\n","import {useCallback} from 'react';\nimport {useContextStrict} from \"hooks/useContextStrict\";\nimport {UploadMultiFilesContext} from \"context/ctxUploadMultiFiles\";\n\nexport const useFileControlModel = () => {\n  const {multiFiles, setMultiFiles, removedImagesUrls, setRemovedImagesUrls} = useContextStrict(UploadMultiFilesContext);\n  // DnD\n\n  const swapPictures = useCallback((e, i, j) => {\n    console.log(i, j, multiFiles[i], multiFiles[j]);\n    [multiFiles[i], multiFiles[j]] = [multiFiles[j], multiFiles[i]];\n    setMultiFiles([...multiFiles]);\n  }, [multiFiles, setMultiFiles]);\n\n  const handleDragStart = useCallback((e) => {\n    const dragImage = document.createElement('img');\n    dragImage.classList.add('drag-image');\n    dragImage.src = e.target.src;\n    document.body.appendChild(dragImage);\n\n    const el = e.target.closest(\".dropzone_preview__item\");\n    el.classList.add('dropzone_preview__item--dragged');\n    e.dataTransfer.effectAllowed = 'move';\n    if (e.target.dataset.url) {\n      e.dataTransfer.setData('text', e.target.dataset.url);\n    } else if (e.target.dataset.index) {\n      e.dataTransfer.setData('text', e.target.dataset.index);\n    }\n    e.dataTransfer.setDragImage(dragImage, 0, 0);\n\n    return true;\n  }, []);\n\n  const handleDrop = useCallback((e) => {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n    let i;\n    if (e.dataTransfer.getData('text')) {\n      if (e.target.dataset.url) {\n        i = multiFiles.indexOf(e.target.dataset.url);\n      } else if (e.target.dataset.index) {\n        i = +e.target.dataset.index;\n      }\n      const indexUrl = multiFiles.indexOf(e.dataTransfer.getData('text'));\n      const j = indexUrl === -1 ? +e.dataTransfer.getData('text') : indexUrl;\n      swapPictures(e, i, j);\n    }\n\n    return false;\n  }, [multiFiles, swapPictures]);\n\n  const handleDragOver = useCallback((e) => {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    e.dataTransfer.dropEffect = 'move';\n    return false;\n  }, []);\n\n  const handleDragEnter = useCallback((e) => {\n    const el = e.target.closest(\".dropzone_preview__item\");\n    el.classList.add('dropzone_preview__item--over');\n  }, []);\n\n  const handleDragLeave = useCallback((e) => {\n    const el = e.target.closest(\".dropzone_preview__item\");\n    el.classList.remove('dropzone_preview__item--over');\n  }, []);\n\n  const handleDragEnd = useCallback((e) => {\n    const dragImage = document.querySelector('.drag-image');\n    dragImage && dragImage.remove();\n    const cols = document.querySelectorAll('.dropzone_preview__item');\n    [].forEach.call(cols, function (col: Element) {\n      col.classList.remove('dropzone_preview__item--over');\n      col.classList.remove('dropzone_preview__item--dragged');\n    });\n  }, []);\n\n\n  //handlers\n\n  const handleDeleteFile = useCallback((e) => {\n    const removedUrl = e.target.nextSibling.dataset.url;\n    const remIndex = multiFiles.indexOf(removedUrl);\n    if (remIndex !== -1) {\n      const pictures = [...multiFiles];\n      const deletedPictures = pictures.splice(remIndex, 1);\n      const deletedPicturesUrl = deletedPictures.filter(i => typeof i === \"string\");\n      setMultiFiles(pictures);\n      const removedUrls = [...removedImagesUrls, ...deletedPicturesUrl];\n      setRemovedImagesUrls(removedUrls as string[]);\n    } else {\n      const newResultFiles = multiFiles.filter(item => {\n        if (typeof item !== \"string\") {\n          return item.preview !== e.target.nextSibling.src\n        }\n        return true;\n      });\n      setMultiFiles(() => newResultFiles);\n    }\n  }, [multiFiles, setMultiFiles, removedImagesUrls, setRemovedImagesUrls]);\n\n  return {\n    handleDragStart,\n    handleDrop,\n    handleDragOver,\n    handleDragEnter,\n    handleDragLeave,\n    handleDragEnd,\n    handleDeleteFile\n  };\n}","import * as React from 'react';\n\ntype TFormValidation<TFormValues> = {\n  [key in keyof TFormValues]?: string;\n};\n\ntype ISanitizer = (params: HTMLInputElement | HTMLTextAreaElement) => boolean;\ntype IValidator<TValues> = (values: TValues) => TFormValidation<TValues>;\ntype IFormatter<TValues> = (value: TValues) => TValues;\n\ninterface IParams<TValues> {\n  initialValues: TValues;\n  sanitizer?: ISanitizer;\n  validator?: IValidator<TValues>;\n  immediateValidator?: IValidator<TValues>;\n  formatter?: IFormatter<TValues>;\n}\n\nconst checkIsValidationEmpty = (validation: TFormValidation<{}>): boolean => !Object.values(validation).some(message => typeof message === 'string');\n\nconst trimEmptyFields = <TValidation>(validation: TValidation): TValidation =>\n  Object.entries(validation).reduce<any>((acc, [key, value]) => {\n    if (value) {\n      acc[key] = value;\n    }\n    return acc;\n  }, {});\n\n/**\n * Хук содержит переиспользуемую логику формы.\n * @param {IParams} param0\n * @property {object} param0.initialValue - изначальные значения формы\n * @property {ISanitizer} param0.sanitizer - функция, отвечающая за санитизацию изменений инпутов.\n * @property {IValidator} param0.validator - функция, отвечающая за ручную валидацию значений формы.\n * @property {IValidator} param0.immediateValidator - функция, отвечающая за валидацию значений формы сразу после изменения этих значений.\n */\n\nexport const useForm = <TValues>(params: IParams<TValues>) => {\n  const {initialValues, sanitizer, validator, immediateValidator, formatter} = params;\n\n  // Состояние хранит объект значений формы.\n  const [values, setValues] = React.useState(initialValues);\n\n  // Состояние хранит результат валидации значений формы.\n  const [validation, setValidation] = React.useState<TFormValidation<TValues>>({});\n\n  // Если initialValues задаются ассинхронно\n  React.useEffect(() => {\n    setValues(initialValues)\n  }, [initialValues]);\n\n  // Эффект следит за значениями формы и, при наличии\n  // моментального валидатора, валидирует значения.\n  React.useLayoutEffect(() => {\n    if (immediateValidator) {\n      setValidation(prevValue => ({\n        ...prevValue,\n        ...trimEmptyFields(immediateValidator(values))\n      }));\n    }\n  }, [values, immediateValidator, initialValues]);\n\n  // Хэндлер изменений инпута.\n  // При наличии санитизатора проводит санитизацию\n  // и в случае успеха вносит изменения в состояние значений формы.\n  // Форматирует новые значения при наличии форматтера.\n  const onChange = React.useCallback(\n    (e: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      // При наличии функции-санитизатора производится санитизация\n      // нового значения инпута.\n      if (!sanitizer || sanitizer(e.currentTarget)) {\n        const {name, value} = e.currentTarget;\n\n        setValues(prevValues => {\n          const nextValues = {\n            ...prevValues,\n            [name]: value\n          };\n\n          // При наличии функции для форматирования значений\n          // производится форматирование новых значений.\n          if (formatter) {\n            return formatter(nextValues);\n          }\n\n          return nextValues;\n        });\n\n        // При каждом изменении инпута убирается валидационное сообщение\n        // для соответствующего поля.\n        setValidation(prevValues => {\n          const nextValues = {\n            ...prevValues,\n            [name]: undefined\n          };\n          return trimEmptyFields(nextValues);\n        });\n      }\n    },\n    [sanitizer, setValues, formatter]\n  );\n\n  // Метод ручной валидации значений формы.\n  // Может принимать в качестве аргумента функцию, которая\n  // будет вызвана в случае успешной валидации значений.\n  const validate = React.useCallback(\n    (onValid?: () => void) => {\n      setValidation(prevValidation => {\n        // По-умолчанию следующее значение валидации соответствует\n        // предыдущему, чтобы в случае отстутствия валидатора не\n        // вызывать этим действием обновление компонента.\n        let nextValidation = prevValidation;\n\n        if (validator) {\n          nextValidation = {\n            ...trimEmptyFields(validator(values)),\n          };\n        }\n\n        // Вызывается обработчик успешной валидации, если такой был передан.\n        if (onValid && checkIsValidationEmpty(nextValidation)) {\n          onValid();\n        }\n        return nextValidation;\n      });\n    }, [validator, values]\n  );\n\n  return {\n    values,\n    validation,\n    validate,\n    onChange,\n  };\n};\n","import React, {FC} from 'react';\n\ninterface TProps extends React.HTMLProps<HTMLTextAreaElement> {\n  placeholder: string;\n  errorMessage?: string;\n  hintMessage?: string;\n}\n\nexport const FormTextarea: FC<TProps> = (props) => {\n  const {name, placeholder, errorMessage, value, onChange} = props;\n  const error = errorMessage && errorMessage.length !== 0 ? 'form-control__textarea--error' : '';\n  return (\n    <>\n      <div className={`form-control form-control__textarea ${error}`}>\n        <div className=\"expandingArea\">\n          <textarea name={name} placeholder={placeholder} value={value} onChange={onChange}/>\n          <pre>\n              <span>{value}</span>\n              <br/>\n              </pre>\n        </div>\n      </div>\n      {/*<div>{errorMessage}</div>*/}\n      {/*<div>{hintMessage}</div>*/}\n    </>\n  );\n}\n","export const stringOrVoid = (condition: boolean, stringValue: string) => (condition ? stringValue : undefined);\nexport const valueIsString = (value: any) => typeof value === \"string\";\nexport const stringIsEmpty = (text: string) => text.length === 0;\nexport const arrayIsEmpty = (array: any[]) => array.length === 0;\nexport const stringLengthLessThan = (text: string, length: number) => text.length < length;","import React, {FC} from 'react';\n\ntype TProps = {\n  label: string;\n  onClick: () => void;\n};\n\nexport const FormSubmitBtn: FC<TProps> = ({label, onClick}) => (\n  <div className=\"form-control form-control__button\" onClick={onClick}>{label}</div>\n);\n","import React, {FC, useCallback} from 'react';\nimport {FileControl} from \"components/FileControl/FileControl\";\nimport {useMutation} from \"@apollo/react-hooks\";\nimport {ADD_INTERIOR} from \"queries/mutations\";\nimport {useContextStrict} from \"hooks/useContextStrict\";\nimport {UploadMultiFilesContext} from \"context/ctxUploadMultiFiles\";\nimport {TIntlDictionary} from \"types/i18n\";\nimport {useIntlDictionary} from \"hooks/useDictionary\";\nimport {useForm} from \"hooks/useForm\";\nimport {FormInput} from \"components/FormInput/FormInput\";\nimport {FormTextarea} from \"components/FormTextarea/FormTextarea\";\nimport {UploadSingleFileContext} from \"context/ctxUploadSingleFile\";\nimport {arrayIsEmpty, stringIsEmpty, stringOrVoid, valueIsString} from \"utils/stringUtils\";\nimport {FormSubmitBtn} from \"components/FormSubmitBtn/FormSubmitBtn\";\nimport {UserFile} from \"types/common\";\nimport {routes} from \"utils/routes\";\nimport {History} from \"history\";\nimport {GET_ALL_INTERIORS} from \"queries/interiors\";\n\ntype TInteriorFormValues = {\n  nameRu: string;\n  nameEn: string;\n  typeRu: string;\n  typeEn: string;\n  yearRu: string;\n  yearEn: string;\n  descriptionRu: string;\n  descriptionEn: string;\n  preview: string;\n  multiPreviews: string;\n}\n\nconst initialValues: TInteriorFormValues = {\n  nameRu: '',\n  nameEn: '',\n  typeRu: '',\n  typeEn: '',\n  yearRu: '',\n  yearEn: '',\n  descriptionRu: '',\n  descriptionEn: '',\n  preview: '',\n  multiPreviews: ''\n};\n\nconst validateAddInteriorForm = (i18n: TIntlDictionary, singleFile: UserFile | string, multiFiles: (UserFile | string)[]) => (values: TInteriorFormValues) => ({\n  nameRu: stringOrVoid(stringIsEmpty(values.nameRu), i18n.validation.required),\n  nameEn: stringOrVoid(stringIsEmpty(values.nameEn), i18n.validation.required),\n  typeRu: stringOrVoid(stringIsEmpty(values.typeRu), i18n.validation.required),\n  typeEn: stringOrVoid(stringIsEmpty(values.typeEn), i18n.validation.required),\n  yearRu: stringOrVoid(stringIsEmpty(values.yearRu), i18n.validation.required),\n  yearEn: stringOrVoid(stringIsEmpty(values.yearEn), i18n.validation.required),\n  descriptionRu: stringOrVoid(stringIsEmpty(values.descriptionRu), i18n.validation.required),\n  descriptionEn: stringOrVoid(stringIsEmpty(values.descriptionEn), i18n.validation.required),\n  preview: stringOrVoid(valueIsString(singleFile), 'form-control__button--error'),\n  multiPreviews: stringOrVoid(arrayIsEmpty(multiFiles), 'form-control__button--error'),\n});\n\ntype TProps = {\n  history: History\n}\n\nexport const AdminAddInteriorPage: FC<TProps> = ({history}) => {\n  console.log('RENDER ADD_PAGE');\n  const {multiFiles} = useContextStrict(UploadMultiFilesContext);\n  const {singleFile} = useContextStrict(UploadSingleFileContext);\n  const [addInterior] = useMutation(ADD_INTERIOR, {\n    onCompleted: () => {\n      history.push(routes.admin())\n    }\n  });\n\n  const intl = useIntlDictionary();\n\n  const validator = React.useMemo(() => validateAddInteriorForm(intl, singleFile, multiFiles), [intl, multiFiles, singleFile]);\n\n  const {values, onChange, validation, validate} = useForm({initialValues, validator});\n\n  const handleAdd = useCallback(() => {\n    const {nameRu, typeRu, yearRu, descriptionRu, nameEn, typeEn, yearEn, descriptionEn} = values;\n    const newInterior = {\n      variables: {nameRu, typeRu, yearRu, descriptionRu, nameEn, typeEn, yearEn, descriptionEn, preview: singleFile, images: multiFiles},\n      refetchQueries: [ { query: GET_ALL_INTERIORS }]\n    };\n    validate(() => addInterior(newInterior));\n  }, [addInterior, multiFiles, singleFile, validate, values]);\n\n  return (\n    <div className=\"admin-page\">\n      <form className=\"form\" action=\"\">\n        <div className=\"form__left\">\n          <FormInput name=\"nameRu\" placeholder='Имя' value={values.nameRu} onChange={onChange} errorMessage={validation.nameRu}/>\n          <FormInput name=\"nameEn\" placeholder='Name' value={values.nameEn} onChange={onChange} errorMessage={validation.nameEn}/>\n          <FormInput name=\"typeRu\" placeholder='Тип' value={values.typeRu} onChange={onChange} errorMessage={validation.typeRu}/>\n          <FormInput name=\"typeEn\" placeholder='Type' value={values.typeEn} onChange={onChange} errorMessage={validation.typeEn}/>\n          <FormInput name=\"yearRu\" placeholder='Год' value={values.yearRu} onChange={onChange} errorMessage={validation.yearRu}/>\n          <FormInput name=\"yearEn\" placeholder='Year' value={values.yearEn} onChange={onChange} errorMessage={validation.yearEn}/>\n          <FormTextarea name=\"descriptionRu\" placeholder='Описание' value={values.descriptionRu} onChange={onChange} errorMessage={validation.descriptionRu}/>\n          <FormTextarea name=\"descriptionEn\" placeholder='Description' value={values.descriptionEn} onChange={onChange} errorMessage={validation.descriptionEn}/>\n          <FormSubmitBtn label={intl.ui.submit.add} onClick={handleAdd}/>\n        </div>\n        <div className=\"form__right\">\n          <FileControl label={intl.ui.buttons.addPreview} errorValidationClass={valueIsString(singleFile) ? validation.preview : ''}/>\n          <FileControl label={intl.ui.buttons.addImages} multiple={true}  errorValidationClass={arrayIsEmpty(multiFiles) ? validation.multiPreviews : ''}/>\n        </div>\n      </form>\n    </div>\n  );\n}","import React, {FC, useCallback, useEffect, useState} from 'react';\nimport {UPDATE_INTERIOR} from \"queries/mutations\";\nimport {TUpdateInterior} from \"types/common\";\nimport {FileControl} from \"components/FileControl/FileControl\";\nimport {routes, TInteriorMatch} from \"utils/routes\";\nimport {match} from \"react-router\";\nimport { History } from 'history';\nimport {GET_INTERIOR_BY_ID, T_GET_INTERIOR_BY_ID, T_VAR_GET_INTERIOR_BY_ID} from \"queries/interiors\";\nimport {useMutation, useQuery} from \"@apollo/react-hooks\";\nimport {useContextStrict} from \"hooks/useContextStrict\";\nimport {UploadMultiFilesContext} from \"context/ctxUploadMultiFiles\";\nimport {useForm} from \"hooks/useForm\";\nimport {TIntlDictionary} from \"types/i18n\";\nimport {arrayIsEmpty, stringIsEmpty, stringOrVoid} from \"utils/stringUtils\";\nimport {useIntlDictionary} from \"hooks/useDictionary\";\nimport {FormInput} from \"components/FormInput/FormInput\";\nimport {FormTextarea} from \"components/FormTextarea/FormTextarea\";\nimport {FormSubmitBtn} from \"components/FormSubmitBtn/FormSubmitBtn\";\nimport {UploadSingleFileContext} from \"context/ctxUploadSingleFile\";\n\ntype TInteriorEditFormValues = {\n  nameRu: string;\n  nameEn: string;\n  typeRu: string;\n  typeEn: string;\n  yearRu: string;\n  yearEn: string;\n  descriptionRu: string;\n  descriptionEn: string;\n  multiPreviews: (UserFile | string)[];\n}\n\nconst validateEditInteriorForm = (i18n: TIntlDictionary, multiFiles: (UserFile | string)[]) => (values: TInteriorEditFormValues) => ({\n  nameRu: stringOrVoid(stringIsEmpty(values.nameRu), i18n.validation.required),\n  nameEn: stringOrVoid(stringIsEmpty(values.nameEn), i18n.validation.required),\n  typeRu: stringOrVoid(stringIsEmpty(values.typeRu), i18n.validation.required),\n  typeEn: stringOrVoid(stringIsEmpty(values.typeEn), i18n.validation.required),\n  yearRu: stringOrVoid(stringIsEmpty(values.yearRu), i18n.validation.required),\n  yearEn: stringOrVoid(stringIsEmpty(values.yearEn), i18n.validation.required),\n  descriptionRu: stringOrVoid(stringIsEmpty(values.descriptionRu), i18n.validation.required),\n  descriptionEn: stringOrVoid(stringIsEmpty(values.descriptionEn), i18n.validation.required),\n  multiPreviews: stringOrVoid(arrayIsEmpty(multiFiles), 'form-control__button--error'),\n});\n\ninterface UserFile extends File {\n  preview: string;\n}\n\ntype TProps = {\n  updateInterior: (interior: TUpdateInterior) => void;\n  match: match<TInteriorMatch>;\n  history: History\n}\n\nexport const AdminEditInteriorPage: FC<TProps> = (props) => {\n  console.log('RENDER EDIT_PAGE');\n  const {singleFile} = useContextStrict(UploadSingleFileContext);\n  const {multiFiles, setMultiFiles, removedImagesUrls} = useContextStrict(UploadMultiFilesContext);\n  const {match, history} = props;\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {loading, error, data} = useQuery<T_GET_INTERIOR_BY_ID, T_VAR_GET_INTERIOR_BY_ID>(GET_INTERIOR_BY_ID, {\n    variables: {_id: match.params.id}\n  });\n  const interiorById = null || (data && data.interiorById);\n  const [updateInterior] = useMutation<TUpdateInterior>(UPDATE_INTERIOR, {\n    onCompleted: () => {\n      history.push(routes.admin())\n    }\n  });\n  const [initialValues, setInitialValues] = useState<TInteriorEditFormValues>({\n    nameRu: '',\n    nameEn: '',\n    typeRu: '',\n    typeEn: '',\n    yearRu: '',\n    yearEn: '',\n    descriptionRu: '',\n    descriptionEn: '',\n    multiPreviews: []\n  });\n  const intl = useIntlDictionary();\n\n  const validator = React.useMemo(() => validateEditInteriorForm(intl, multiFiles), [intl, multiFiles]);\n\n  const {values, onChange, validation, validate} = useForm({initialValues, validator});\n\n  const [previewUrl, setPreviewUrl] = useState<string>('');\n\n  useEffect(() => {\n    if (interiorById) {\n      setInitialValues({\n        nameRu: interiorById.nameRu,\n        nameEn: interiorById.nameEn,\n        typeRu: interiorById.typeRu,\n        typeEn: interiorById.typeEn,\n        yearRu: interiorById.yearRu,\n        yearEn: interiorById.yearEn,\n        descriptionRu: interiorById.descriptionRu,\n        descriptionEn: interiorById.descriptionEn,\n        multiPreviews: interiorById.picturesUrl\n      });\n      setPreviewUrl(interiorById.previewUrl);\n      setMultiFiles(interiorById.picturesUrl);\n    }\n  }, [interiorById, setMultiFiles]);\n\n  const handleUpdate = useCallback(() => {\n    const imagesOrder = multiFiles.reduce((acc: any, item) => {\n      if (typeof item === \"string\") {\n        acc.push(item)\n      } else {\n        acc.push('empty');\n      }\n      return acc;\n    }, []);\n\n    const addedFiles = multiFiles.filter(i => typeof i !== \"string\");\n\n    const {nameRu, typeRu, yearRu, descriptionRu, nameEn, typeEn, yearEn, descriptionEn} = values;\n\n    const updatedInterior = {\n      variables: {\n        _id: match.params.id,\n        nameRu,\n        typeRu,\n        yearRu,\n        descriptionRu,\n        nameEn,\n        typeEn,\n        yearEn,\n        descriptionEn,\n        previewUrl: previewUrl,\n        newPreview: singleFile,\n        imagesOrder,\n        addedFiles,\n        removedImagesUrls,\n      }\n    };\n    validate(() => updateInterior(updatedInterior));\n  }, [multiFiles, values, match.params.id, previewUrl, singleFile, removedImagesUrls, validate, updateInterior]);\n\n  return (\n    <>\n      {!interiorById && <div>{error && error.message}</div>}\n      {\n        !loading && interiorById &&\n        <div className=\"admin-page\">\n          <form className=\"form\" action=\"\">\n            <div className=\"form__left\">\n              <FormInput name=\"nameRu\" placeholder='Имя' value={values.nameRu} onChange={onChange} errorMessage={validation.nameRu}/>\n              <FormInput name=\"nameEn\" placeholder='Name' value={values.nameEn} onChange={onChange} errorMessage={validation.nameEn}/>\n              <FormInput name=\"typeRu\" placeholder='Тип' value={values.typeRu} onChange={onChange} errorMessage={validation.typeRu}/>\n              <FormInput name=\"typeEn\" placeholder='Type' value={values.typeEn} onChange={onChange} errorMessage={validation.typeEn}/>\n              <FormInput name=\"yearRu\" placeholder='Год' value={values.yearRu} onChange={onChange} errorMessage={validation.yearRu}/>\n              <FormInput name=\"yearEn\" placeholder='Year' value={values.yearEn} onChange={onChange} errorMessage={validation.yearEn}/>\n              <FormTextarea name=\"descriptionRu\" placeholder='Описание' value={values.descriptionRu} onChange={onChange} errorMessage={validation.descriptionRu}/>\n              <FormTextarea name=\"descriptionEn\" placeholder='Description' value={values.descriptionEn} onChange={onChange} errorMessage={validation.descriptionEn}/>\n              <FormSubmitBtn label={intl.ui.submit.update} onClick={handleUpdate}/>\n            </div>\n            <div className=\"form__right\">\n              <FileControl label={intl.ui.buttons.addPreview} previewUrl={previewUrl}/>\n              <FileControl label={intl.ui.buttons.addImages} multiple={true} errorValidationClass={arrayIsEmpty(multiFiles) ? validation.multiPreviews : ''}/>\n            </div>\n          </form>\n        </div>\n      }\n    </>\n  );\n}","import React, {FC} from 'react';\nimport {Route, Switch} from \"react-router\";\nimport {IndexPage} from \"contaiters/IndexPage/IndexPage\";\nimport {routes} from \"utils/routes\";\nimport {InteriorsPage} from \"contaiters/InteriorsPage/InteriorsPage\";\nimport {InteriorsPageItem} from \"contaiters/InteriorsPageItem/InteriorsPageItem\";\nimport {FurniturePage} from \"contaiters/FurniturePage/FurniturePage\";\nimport {FurniturePageItem} from \"contaiters/FurniturePageItem/FurniturePageItem\";\nimport {AboutPage} from \"contaiters/AboutPage/AboutPage\";\nimport {AdminLoginPage} from \"contaiters/AdminPage/AdminLoginPage\";\nimport {AdminDashboardPage} from \"contaiters/AdminPage/AdminDashboardPage\";\nimport {AdminAddInteriorPage} from \"contaiters/AdminPage/AdminAddInteriorPage\";\nimport {AdminEditInteriorPage} from \"contaiters/AdminPage/AdminEditInteriorPage\";\nimport {Location} from \"history\";\nimport {App404} from \"contaiters/App404/App404\";\n\ntype TProps = {\n  location: Location;\n}\n\nexport const AppAutorizedRoutes: FC<TProps> = ({location}) => (\n  <Switch location={location}>\n    <Route path=\"/\" exact component={IndexPage}/>\n    <Route path={routes.interiors({})} exact component={InteriorsPage}/>\n    <Route path={routes.interiorsPattern()} exact component={InteriorsPageItem}/>\n    <Route path={routes.furniture({})} exact component={FurniturePage}/>\n    <Route path={routes.furniturePattern()} exact component={FurniturePageItem}/>\n    <Route path={routes.about()} exact component={AboutPage}/>\n    <Route path={routes.admin()} exact component={AdminLoginPage}/>\n    <Route path={routes.adminDashboard()} exact component={AdminDashboardPage}/>\n    <Route path={routes.adminAddInterior()} exact component={AdminAddInteriorPage}/>\n    <Route path={routes.adminEditInteriorPattern()} exact component={AdminEditInteriorPage}/>\n    <Route component={App404}/>\n  </Switch>\n);\n","import React, {FC} from 'react';\nimport {Switch, withRouter} from 'react-router';\nimport SwitchTransition from \"react-transition-group/SwitchTransition\";\nimport CSSTransition from \"react-transition-group/CSSTransition\";\nimport {Location} from 'history';\nimport {PAGE_ANIMATION_DURATION} from \"constants/common\";\nimport ScrollToTop from 'hoc/hocScrollToTop';\nimport {AppGuestRoutes} from \"contaiters/AppGuest/AppGuestRoutes\";\nimport {AppAutorizedRoutes} from \"contaiters/AppAutorized/AppAutorizedRoutes\";\nimport {useAuth} from \"hooks/useAuth\";\n\ntype TProps = {\n  location: Location;\n}\n\nconst AppBody: FC<TProps> = ({location}) => {\n  const {autorized} = useAuth();\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"main\">\n        <ScrollToTop>\n          <SwitchTransition>\n            <CSSTransition key={location.pathname} classNames=\"fade-out\" timeout={PAGE_ANIMATION_DURATION}>\n              <Switch location={location}>\n                {\n                  autorized ? <AppAutorizedRoutes location={location}/> : <AppGuestRoutes location={location}/>\n                }\n              </Switch>\n            </CSSTransition>\n          </SwitchTransition>\n        </ScrollToTop>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(AppBody);","import React, {FC, useEffect, useRef} from 'react';\nimport {clearAllBodyScrollLocks, disableBodyScroll, enableBodyScroll} from 'body-scroll-lock';\n\ntype TProps = {\n  isOpened: boolean;\n  title: string;\n  onCancel: () => void;\n  onConfirm: () => void;\n}\n\nexport const ConfirmationModal: FC<TProps> = ({children, isOpened, onCancel, onConfirm, title}) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (modalRef && modalRef.current) {\n      if (!isOpened) {\n        enableBodyScroll(modalRef.current)\n      } else {\n        disableBodyScroll(modalRef.current)\n      }\n    }\n    return () => clearAllBodyScrollLocks();\n  }, [isOpened]);\n\n  return (\n    <div ref={modalRef} className=\"modal-wrapper\">\n      <div className=\"modal\">\n        <div className=\"modal__header\">\n          <div className=\"modal_header__title\">\n            {title}\n          </div>\n        </div>\n        <div className=\"modal__body\">\n          {children}\n        </div>\n        <div className=\"modal__footer\">\n          <div className=\"modal_footer__actions\">\n            <div className=\"form-control__button modal_footer_action__btn\" onClick={onCancel}>Отмена</div>\n            <div className=\"form-control__button modal_footer_action__btn active\" onClick={onConfirm}>Подтвердить</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, {FC, useCallback, useState} from 'react';\nimport {ModalContext} from 'context/ctxModal';\nimport {ConfirmationModal} from \"components/Modal/ConfirmationModal\";\n\nexport const ModalProvider: FC = ({children}) => {\n  const [opened, setOpened] = useState(false);\n  const [title, setTitle] = useState('');\n  const [handleConfirm, setOnConfirm] = useState({\n    handle: () => {\n    }\n  });\n\n  const initModal = useCallback((title: string, onConfirm: () => void) => {\n    setTitle(title);\n    setOnConfirm({\n      handle: () => {\n        onConfirm();\n// setOpened(false);\n      }\n    });\n  },[]);\n\n  const openModal = useCallback((opened) => {\n    console.log(\"OPEN MODAL\", opened)\n    setOpened(opened);\n  }, []);\n\n  const handleCancel = useCallback(() => {\n    setOpened(false);\n  }, []);\n\n\n  return (\n    <ModalContext.Provider value={{initModal, openModal}}>\n      {children}\n      {opened && <ConfirmationModal isOpened={opened}\n                                    title={title}\n                                    onConfirm={handleConfirm.handle}\n                                    onCancel={handleCancel}/>}\n    </ModalContext.Provider>\n  );\n};","import React, {FC, useState} from 'react';\nimport {UploadMultiFilesContext} from 'context/ctxUploadMultiFiles';\nimport {UserFile} from \"types/common\";\n\nexport const UploadMultiFilesProvider: FC = ({children}) => {\n  const [multiFiles, setMultiFiles] = useState<(UserFile | string)[]>([]);\n  const [removedImagesUrls, setRemovedImagesUrls] = useState<string[]>([]);\n\n  return (\n    <UploadMultiFilesContext.Provider value={{multiFiles, setMultiFiles, removedImagesUrls, setRemovedImagesUrls}}>\n      {children}\n    </UploadMultiFilesContext.Provider>\n  );\n};","import React, {FC, useState} from 'react';\nimport {UserFile} from \"types/common\";\nimport {UploadSingleFileContext} from 'context/ctxUploadSingleFile';\n\nexport const UploadSingleFileProvider: FC = ({children}) => {\n  const [singleFile, setSingleFile] = useState<UserFile | string>('');\n\n  return (\n    <UploadSingleFileContext.Provider value={{singleFile, setSingleFile}}>\n      {children}\n    </UploadSingleFileContext.Provider>\n  );\n};","import React, {FC, useEffect, useState} from 'react';\nimport {AuthContext} from \"context/ctxAuth\";\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {CHECK_TOKEN} from \"queries/admin\";\n\nexport const AuthProvider: FC = ({children}) => {\n  const {data} = useQuery(CHECK_TOKEN);\n  const [autorized, setAutorized] = useState(false);\n\n  useEffect(() => {\n    setAutorized(data && data.checkToken);\n  }, [data]);\n\n  return (\n    <AuthContext.Provider value={{autorized, setAutorized}}>\n      {children}\n    </AuthContext.Provider>\n  );\n};","import React from 'react';\nimport {Header} from 'contaiters/Header/Header';\nimport {Footer} from 'contaiters/Footer/Footer';\nimport {IntlProvider} from 'hoc/hocIntlProvider';\nimport ApolloClient from 'apollo-client';\nimport {ApolloProvider} from '@apollo/react-hooks';\nimport {InMemoryCache} from \"apollo-cache-inmemory\";\nimport AppBody from \"contaiters/AppBody/AppBody\";\nimport {ModalProvider} from \"hoc/hocModalProvider\";\nimport {UploadMultiFilesProvider} from \"hoc/hocUploadMultiFiles\";\nimport {UploadSingleFileProvider} from \"hoc/hocUploadSingleFile\";\nimport {CookiesProvider} from 'react-cookie';\nimport {AuthProvider} from \"hoc/hocAuthProvider\";\n\nconst {createUploadLink} = require('apollo-upload-client');\n\nconst link = createUploadLink({\n  uri: `http://localhost:3005/graphql`,\n  credentials: 'include'\n});\n\nconst client = new ApolloClient({\n  link,\n  cache: new InMemoryCache()\n});\n\nconst App: React.FC = () => {\n  return (\n    <ApolloProvider client={client}>\n      <CookiesProvider>\n        <AuthProvider>\n          <IntlProvider>\n            <ModalProvider>\n              <UploadMultiFilesProvider>\n                <UploadSingleFileProvider>\n                  <Header/>\n                  <AppBody/>\n                  <Footer/>\n                </UploadSingleFileProvider>\n              </UploadMultiFilesProvider>\n            </ModalProvider>\n          </IntlProvider>\n        </AuthProvider>\n      </CookiesProvider>\n    </ApolloProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS singleFile.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './scss/_style.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst app = (\n  <BrowserRouter>\n    <App/>\n  </BrowserRouter>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}