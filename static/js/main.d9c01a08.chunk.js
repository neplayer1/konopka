(window.webpackJsonpkonopka=window.webpackJsonpkonopka||[]).push([[0],{50:function(e,t,n){e.exports=n.p+"static/media/sample.1e071326.jpg"},56:function(e,t,n){e.exports=n(74)},62:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(20),o=n.n(i),l=(n(61),n(62),n(5)),c=n(16),u=function(e){var t=e.url,n=e.label,a=e.onClick;return r.a.createElement(c.b,{onClick:a,to:t,className:"header_nav__link"},n)},s=function(e){var t=e.onClick,n=e.label;return r.a.createElement("div",{onClick:t,className:"header_nav__link header_nav__link--button"},n)},d={index:function(){return"/"},interiors:function(e){var t=[e.id].filter(function(e){return!!e});return"/interiors/".concat(t.join("/"))},interiorsPattern:function(){return"/interiors/:id?"},furniture:function(e){var t=[e.id].filter(function(e){return!!e});return"/furniture/".concat(t.join("/"))},furniturePattern:function(){return"/furniture/:id?"},about:function(){return"/about"},admin:function(){return"/admin"},adminDashboard:function(){return"/admin/dashboard"},adminAddInterior:function(){return"/admin/interiors/add"},adminEditInterior:function(e){var t=[e.id].filter(function(e){return!!e});return"/admin/interiors/edit/".concat(t.join("/"))},adminEditInteriorPattern:function(){return"/admin/interiors/edit/:id?"}},m=r.a.createContext(null);function p(e){var t=r.a.useContext(e);if(null===t)throw new Error("Consumer has been used outside of the provider.");return t}var v=function(){return p(m).intl.dictionary},f=n(53),g=n(21),E=r.a.createContext(null),h=function(){var e=p(E);return{autorized:e.autorized,setAutorized:e.setAutorized}},b=n(33),_=function(){var e=h().autorized,t=p(m).handleChangeLang,n=v(),i=n.nav,o=n.changeLangLabel,E=Object(a.useState)(!1),_=Object(l.a)(E,2),y=_[0],O=_[1],R=Object(a.useRef)(null),j=R.current,w=Object(b.b)(["access-token"]),k=Object(l.a)(w,3),x=(k[0],k[1],k[2]),N=h().setAutorized,C=Object(a.useCallback)(function(){O(!y)},[y]),M=Object(a.useCallback)(function(){O(!1)},[]),I=Object(a.useCallback)(function(){x("access-token"),N(!1)},[x,N]);Object(a.useEffect)(function(){return j&&(y?Object(g.disableBodyScroll)(j):Object(g.enableBodyScroll)(j)),function(){return Object(g.clearAllBodyScrollLocks)()}},[j,y]);var D=y?"open":"";return r.a.createElement("header",{className:"header",ref:R},r.a.createElement("div",{className:"wrapper"},r.a.createElement(c.b,{to:"/",className:"header__logo"},"Irina ",r.a.createElement("span",null,"Konopka")),r.a.createElement(f.a,{in:y,classNames:"fade-out",timeout:200},r.a.createElement("nav",{className:"header__nav ".concat(D)},r.a.createElement(u,{onClick:M,url:d.interiors({}),label:i.interiors}),r.a.createElement(u,{onClick:M,url:d.furniture({}),label:i.furniture}),r.a.createElement(u,{onClick:M,url:d.about(),label:i.about}),e?r.a.createElement(u,{onClick:M,url:d.adminDashboard(),label:i.dashboard}):null,e?r.a.createElement(u,{onClick:I,url:d.index(),label:i.logout}):null,r.a.createElement(s,{onClick:t,label:o}))),r.a.createElement("div",{onClick:C,className:"header__hamburger ".concat(D)},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))},y=function(){var e=v().writeMe;return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"footer__title"},e.left," ",r.a.createElement("span",null,e.right)),r.a.createElement("nav",{className:"footer__links"},r.a.createElement("a",{href:"mailto:irina.id@gmail.com",className:"footer_links__item"},"irina.id@gmail.com"),r.a.createElement("a",{href:"skype:username?add",className:"footer_links__item"},"Skype irinakonopka"),r.a.createElement("a",{href:"https://www.instagram.com/irisha_konopka",target:"_blank",rel:"noopener noreferrer",className:"footer_links__item"},"Instagram"),r.a.createElement("a",{href:"https://www.behance.net/irinakonopka",target:"_blank",rel:"noopener noreferrer",className:"footer_links__item"},"Behance"))))},O={langCode:"ru",dictionary:{about:"<p>I am a multidisciplinary designer with a main focus on Digital Design and Branding, located in Thessaloniki,\n            Greece.\n          </p>\n          <p>Throughout my 11 years' experience I have worked in various advertising agencies as a Graphic /\n            Digital Designer and Art Director.\n          </p>\n          <p>For the last 3 years I have been working as a freelancer collaborating with\n            agencies and clients. I am also a member of the design team of Point Blank, Design & Drupal Digital agency.\n          </p>\n          <p>I am always glad to discuss collaborative projects and freelance commissions.</p>",changeLangLabel:"en",slogan:"\u041a\u0440\u0430\u0441\u043e\u0442\u0430 \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0435",slogans:["\u041a\u0440\u0430\u0441\u043e\u0442\u0430\n\u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0435","\u0425\u043e\u0440\u043e\u0448\u0438\u0439\n\u0434\u0438\u0437\u0430\u0439\u043d\n\u044d\u0441\u0442\u0435\u0442\u0438\u0447\u0435\u043d","\u0425\u043e\u0440\u043e\u0448\u0438\u0439\n\u0434\u0438\u0437\u0430\u0439\u043d\n\u043d\u0435\u043d\u0430\u0432\u044f\u0437\u0447\u0438\u0432","\u0425\u043e\u0440\u043e\u0448\u0438\u0439\n\u0434\u0438\u0437\u0430\u0439\u043d\n\u0447\u0435\u0441\u0442\u0435\u043d","\u0425\u043e\u0440\u043e\u0448\u0438\u0439\n\u0434\u0438\u0437\u0430\u0439\u043d\n\u043d\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0430\u0435\u0442"],nav:{interiors:"\u0418\u043d\u0442\u0435\u0440\u044c\u0435\u0440\u044b",furniture:"\u041c\u0435\u0431\u0435\u043b\u044c",about:"\u041e\u0431\u043e \u043c\u043d\u0435",dashboard:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430",logout:"\u0412\u044b\u0439\u0442\u0438"},writeMe:{left:"\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442?",right:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043c\u043d\u0435"},validation:{required:"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},ui:{buttons:{addPreview:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e",addImages:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"},submit:{add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",update:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}}}},R={langCode:"en",dictionary:{about:"<p>\u042f \u043c\u043d\u043e\u0433\u043e\u043f\u0440\u043e\u0444\u0438\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u0444\u043e\u043a\u0443\u0441\u043e\u043c \u043d\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u043c \u0434\u0438\u0437\u0430\u0439\u043d\u0435 \u0438 \u0431\u0440\u0435\u043d\u0434\u0438\u043d\u0433\u0435, \u043d\u0430\u0445\u043e\u0436\u0443\u0441\u044c \u0432 \u0421\u0430\u043b\u043e\u043d\u0438\u043a\u0430\u0445,\n            \u0413\u0440\u0435\u0446\u0438\u044f.</p>\n          <p>\u0417\u0430 11 \u043b\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430\u0445 \u044f \u043f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c / \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u043c \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u043e\u043c \u0438 \u0430\u0440\u0442-\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u043e\u043c.</p>\n          <p>\u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 3 \u043b\u0435\u0442 \u044f \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0444\u0440\u0438\u043b\u0430\u043d\u0441\u0435\u0440\u043e\u043c, \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0430\u044f \u0441 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430\u043c\u0438 \u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438. \u042f \u0442\u0430\u043a\u0436\u0435 \u044f\u0432\u043b\u044f\u044e\u0441\u044c \u0447\u043b\u0435\u043d\u043e\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u043e\u0432 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430 Point Blank, Design & Drupal Digital.\n          </p>\n          <p>\u042f \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0434\u0430 \u043e\u0431\u0441\u0443\u0434\u0438\u0442\u044c \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u0438 \u0437\u0430\u043a\u0430\u0437\u044b \u043f\u043e \u0444\u0440\u0438\u043b\u0430\u043d\u0441\u0443.</p>",changeLangLabel:"ru",slogan:"Beauty in simplicity",slogans:["Beauty\nin simplicity","Good design\nis aesthetic","Good design\nis unobtrusive","Good design\nis honest","Good design\ndoesn't get old"],nav:{interiors:"Interiors",furniture:"Furniture",about:"About",dashboard:"Dashboard",logout:"Logout"},writeMe:{left:"Need project?",right:"Write to me"},validation:{required:"Required field"},ui:{buttons:{addPreview:"Add preview",addImages:"Add images"},submit:{add:"Add",update:"Update"}}}},j=function(e){var t=e.children,n=localStorage.getItem("lang"),i=O;"en"===(n||"ru")&&(i=R);var o=Object(a.useState)(i.langCode),c=Object(l.a)(o,2),u=c[0],s=c[1],d=Object(a.useCallback)(function(){"ru"===u?(localStorage.setItem("lang","en"),s(R.langCode)):"en"===u&&(localStorage.setItem("lang","ru"),s(O.langCode))},[u]),p={isRu:"ru"===u,intl:i,handleChangeLang:d};return r.a.createElement(m.Provider,{value:p},t)},w=n(22),k=n(12),x=n(52),N=n(4),C=n(51),M=Object(N.f)(function(e){var t=e.location.pathname,n=e.children;return Object(a.useEffect)(function(){setTimeout(function(){window.scrollTo(0,0)},250)},[t]),r.a.createElement(r.a.Fragment,null,n)}),I=function(e,t){var n="#16171F",a=t,r=100,i=300,o=a.length*i,l=2,c=100,u=5,s=.95,d=1,m=1,p=50,v=!0,f=3,g=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(i=120,o=a.length*i,r=50,l=2,c=100,d=1,v=!1,f=2),m/=10,d/=100,f*=10;var E=Math.round(2+l),h=Array.apply(null,Array(o)).map(function(){return null}),b=e.current,_=b.getContext("2d"),y=[],O=[],R=0,j={x:0,y:0};function w(e,t,n,a,r,i){var o=6.28*Math.random();this.dest_x=e,this.dest_y=t,this.original_r=n,this.original_g=a,this.original_a=i,this.lastx=0,this.lasty=0,this.x=b.width/2-e+(Math.random()-.5)*c,this.y=b.height/2-t+(Math.random()-.5)*c,this.velx=u*Math.cos(o),this.vely=u*Math.sin(o),this.target_x=b.width/2-e,this.target_y=b.height/2-t,this.r=n,this.g=a,this.b=r,this.a=i,this.moved=!1,O[R]=this,R++,this.getX=function(){return this.x},this.getY=function(){return this.y},this.fleeFrom=function(e,t){this.velx-=(j.x-this.x)*m,this.vely-=(j.y-this.y)*m},this.settleTo=function(e,t){this.velx=s*(this.velx+(this.target_x-this.x)*d),this.vely=s*(this.vely+(this.target_y-this.y)*d)},this.scatter=function(){var e=this.unitVecTo(j.x,j.y),t=f*(.5+Math.random()/2);this.velx=-e.x*t,this.vely=-e.y*t},this.checkMove=function(){this.moved=0==!Math.abs(Math.round(this.target_x-this.x))||0==!Math.abs(Math.round(this.target_y-this.y))||0==!Math.abs(Math.round(this.velx))||0==!Math.abs(Math.round(this.vely))},this.simpleMove=function(){this.checkMove(),this.moved&&(this.lastx=this.x,this.lasty=this.y,this.x+=this.velx,this.y+=this.vely,O[R]=this,R++)},this.move=function(){this.distanceTo(j.x,j.y)<=p?this.fleeFrom(j.x,j.y):this.settleTo(this.target_x,this.target_y),this.simpleMove()},this.distanceTo=function(e,t){var n=e-this.x,a=t-this.y;return Math.sqrt(n*n+a*a)},this.unitVecTo=function(e,t){var n=e-this.x,a=t-this.y,r=Math.sqrt(n*n+a*a);return{x:n/r,y:a/r}},this.inMotion=function(){return this.moved},this.clear=function(){_.clearRect(this.lastx-E,this.lasty-E,2*E,2*E)},this.draw=function(){_.fillStyle="rgba("+this.r+","+this.g+","+this.b+","+this.a+")",_.beginPath(),_.arc(this.x,this.y,l,0,2*Math.PI),_.fill()}}var k=function(){C(),M()};window.addEventListener("resize",k);var x=function(e){j.x=e.clientX,j.y=e.clientY};v&&window.addEventListener("mousemove",x);var N=function(e){j.x=e.clientX,j.y=e.clientY;for(var t=0;t<y.length;t++)y[t].scatter()};function C(){b.width=b.clientWidth,b.height=b.clientHeight}function M(){_.fillStyle=n,_.textBaseline="middle",_.textAlign="center",_.font=r+"px 'PT Root UI', sans-serif";for(var e=a.split("\n"),t=e.length,i=e.reduce(function(e,t){return e.length<t.length&&(e=t),e},""),l=(b.height-r*t+r)/2,c=0;c<t;c++)_.fillText(e[c],b.width/2,l+c*r);var u=_.measureText(i+10).width;if(0!==u){var s=b.width/2-u/2,d=l-r/2;_.fill();for(var m=_.getImageData(s,d,u,r*t).data,p=!0,v=0;v<m.length;v++)if(0!==m[v]){p=!1;break}if(!p){var f=0,g=0,E=0,h=0,O=0,R=Math.floor(u);for(y=[];f<o;){for(;0===g;)g=m[E=Math.floor(Math.random()*m.length)];h=R/2-(E=Math.floor(E/4))%R,O=r*t/2-Math.floor(E/R),y.push(new w(h,O,m[4*E],m[4*E+1],m[4*E+2],m[4*E+3])),g=0,f++}}}}function I(){!function(){for(var e=0;e<y.length;e++)y[e].move()}(),function(){for(var e=0;e<R;e++)O[e].clear();O=h,R=0;for(var t=0;t<y.length;t++)y[t].draw();window.requestAnimationFrame(I)}()}return g&&window.addEventListener("click",N),{init:function(){C(),M(),window.requestAnimationFrame(I)},cleanCanvas:function(){window.removeEventListener("resize",k),v&&window.removeEventListener("mousemove",x),g&&window.removeEventListener("click",N),y=[],O=[],_.clearRect(0,0,b.width,b.height)}}},D=function(){var e=v().slogans,t=Object(a.useRef)(null);return Object(a.useEffect)(function(){var n=sessionStorage.getItem("nums"),a=n?n.split(","):[];a.length===e.length&&(a=[]);for(var r=Math.floor(Math.random()*e.length);a.includes("".concat(r));)r=Math.floor(Math.random()*e.length);a.push("".concat(r)),sessionStorage.setItem("nums","".concat(a.toString().split(",")));var i=I(t,e[r]),o=i.init,l=i.cleanCanvas;return o(),function(){return l()}},[e]),r.a.createElement("div",{className:"index-page"},r.a.createElement("canvas",{ref:t}))},S=function(e){var t=e.label,n=e.url,a=e.imageSrc;return r.a.createElement("div",null,r.a.createElement(c.b,{to:n,"data-text":t},r.a.createElement("img",{src:"http://localhost:3005/images/".concat(a),alt:""})))},$=function(){return p(m).isRu},P=function(e){var t=e.data,n=e.baseUrl,i=$(),o=Object(a.useMemo)(function(){return t.map(function(e){return r.a.createElement(S,{key:e._id,label:i?e.nameRu:e.nameEn,url:n({id:e._id}),imageSrc:e.previewUrl})})},[n,t,i]);return r.a.createElement("div",{className:"catalog"},o)},U=n(9),L=n(10),q=n.n(L);function F(){var e=Object(U.a)(["\n  query interiorNextQuery($_id: ObjectId) {\n    interiorNext(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  "]);return F=function(){return e},e}function T(){var e=Object(U.a)(["\n  query interiorPreviousQuery($_id: ObjectId) {\n    interiorPrevious(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  "]);return T=function(){return e},e}function A(){var e=Object(U.a)(["\n  query interiorByIdQuery($_id: ObjectId) {\n    interiorById(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  "]);return A=function(){return e},e}function z(){var e=Object(U.a)(["\n  query interiorsQuery {\n    interiors {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      picturesUrl,\n    }\n  }\n  "]);return z=function(){return e},e}var B=q()(z()),Q=q()(A()),V=q()(T()),G=q()(F()),Y=n(6),W=function(){var e=Object(Y.b)(B),t=e.loading,n=e.error,i=e.data,o=i&&i.interiors;return Object(a.useMemo)(function(){return r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement("div",null,n&&n.message),!t&&o&&r.a.createElement("div",{className:"interiors-page"},r.a.createElement(P,{data:o,baseUrl:d.interiors})))},[n,o,t])},X=function(e){return e?{}:{visibility:"hidden",pointerEvents:"none"}},H=function(e){var t=e.currentItem,n=e.prevItem,i=e.nextItem,o=e.handlePrevItem,l=e.handleNextItem,u=t.nameRu,s=t.typeRu,m=t.yearRu,p=t.descriptionRu,v=t.nameEn,f=t.typeEn,g=t.yearEn,E=t.descriptionEn,h=t.picturesUrl,b=$(),_=b?u:v,y=b?s:f,O=b?m:g,R=b?p:E,j=n&&(b?n.nameRu:n.nameEn),w=i&&(b?i.nameRu:i.nameEn),k=Object(a.useMemo)(function(){return h.map(function(e){return r.a.createElement("img",{key:e,src:"http://localhost:3005/images/".concat(e),alt:""})})},[h]);return r.a.createElement("div",{className:"catalog-item"},r.a.createElement("div",{className:"catalog-item__left"},r.a.createElement("div",{className:"catalog-item_left__inner"},r.a.createElement(c.b,{to:d.interiors({}),className:"catalog-item__back"}),r.a.createElement("div",{className:"catalog-item__title"},_),r.a.createElement("div",{className:"catalog-item__type"},"\u0422\u0438\u043f: ",y),r.a.createElement("div",{className:"catalog-item__year"},"\u0413\u043e\u0434: ",O),r.a.createElement("div",{className:"catalog-item__description"},R))),r.a.createElement("div",{className:"catalog-item__images"},k),r.a.createElement("div",{className:"catalog-item__right"},r.a.createElement("div",{className:"catalog-item_right__inner"},r.a.createElement("div",{className:"catalog-item__navigation"},r.a.createElement("div",{className:"catalog-item_navigation-item catalog-item_navigation-item--left",style:X(!!n),onClick:o},r.a.createElement("span",null),n?j:_),r.a.createElement("div",{className:"catalog-item_navigation-item catalog-item_navigation-item--right",style:X(!!i),onClick:l},i?w:_,r.a.createElement("span",null))))))},J=function(e){var t=e.match,n=e.history,i=Object(Y.b)(Q,{variables:{_id:t.params.id}}),o=i.loading,l=i.data,c=Object(Y.b)(V,{variables:{_id:t.params.id}}),u=c.loading,s=(c.error,c.data),m=Object(Y.b)(G,{variables:{_id:t.params.id}}),p=m.loading,v=(m.error,m.data),f=l.interiorById,g=s.interiorPrevious,E=v.interiorNext,h=!o&&!u&&!p,b=Object(a.useCallback)(function(){n.push(d.interiors({id:g._id}))},[n,g]),_=Object(a.useCallback)(function(){n.push(d.interiors({id:E._id}))},[n,E]);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(H,{currentItem:f,prevItem:g,nextItem:E,handlePrevItem:b,handleNextItem:_}))};function K(){var e=Object(U.a)(["\n  query furnitureNextQuery($_id: ObjectId) {\n    furnitureNext(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  "]);return K=function(){return e},e}function Z(){var e=Object(U.a)(["\n  query furniturePreviousQuery($_id: ObjectId) {\n    furniturePrevious(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  "]);return Z=function(){return e},e}function ee(){var e=Object(U.a)(["\n  query furnitureByIdQuery($_id: ObjectId) {\n    furnitureById(_id: $_id) {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  "]);return ee=function(){return e},e}function te(){var e=Object(U.a)(["\n  query furnitureQuery {\n    furniture {\n      _id,\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n    }\n  }\n  "]);return te=function(){return e},e}var ne=q()(te()),ae=q()(ee()),re=q()(Z()),ie=q()(K()),oe=function(){var e=Object(Y.b)(ne),t=e.loading,n=e.error,i=e.data,o=i&&i.furniture;return Object(a.useMemo)(function(){return r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement("div",null,n&&n.message),!t&&o&&r.a.createElement("div",{className:"furniture-page"},r.a.createElement(P,{data:o,baseUrl:d.furniture})))},[n,o,t])},le=function(e){var t=e.match,n=e.history,i=Object(Y.b)(ae,{variables:{_id:t.params.id}}),o=i.loading,l=i.data,c=Object(Y.b)(re,{variables:{_id:t.params.id}}),u=c.loading,s=(c.error,c.data),m=Object(Y.b)(ie,{variables:{_id:t.params.id}}),p=m.loading,v=(m.error,m.data),f=l.furnitureById,g=s.furniturePrevious,E=v.furnitureNext,h=!o&&!u&&!p,b=Object(a.useCallback)(function(){g&&n.push(d.furniture({id:g._id}))},[n,g]),_=Object(a.useCallback)(function(){E&&n.push(d.furniture({id:E._id}))},[n,E]);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(H,{currentItem:f,prevItem:g,nextItem:E,handlePrevItem:b,handleNextItem:_}))},ce=n(50),ue=n.n(ce),se=function(){var e=v();return r.a.createElement("div",{className:"about-page"},r.a.createElement("div",{className:"about__card"},r.a.createElement("div",{className:"about_card__inner"},r.a.createElement("div",{className:"about_card__image"},r.a.createElement("img",{src:ue.a,alt:""})),r.a.createElement("div",{className:"about_card__text",dangerouslySetInnerHTML:{__html:e.about}}))))},de=n(54),me=function(e){var t=e.placeholder,n=e.errorMessage,a=(e.hintMessage,e.type),i=void 0===a?"text":a,o=e.animationError,l=Object(de.a)(e,["placeholder","errorMessage","hintMessage","type","animationError"]),c=n&&0!==n.length?"form-control__input--error":"",u=o?"form-control__input--animate-error form-control__input--error":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({},l,{className:"form-control form-control__input ".concat(c," ").concat(u),type:i,placeholder:t})))};function pe(){var e=Object(U.a)(["\n  query checkToken {\n    checkToken\n  }\n"]);return pe=function(){return e},e}function ve(){var e=Object(U.a)(["\n  mutation adminLogin($password: String! ) {\n    adminLogin(password: $password) {\n      password,\n    }\n  }\n"]);return ve=function(){return e},e}function fe(){var e=Object(U.a)(["\n  mutation adminRegister($password: String! ) {\n    adminRegister(password: $password) {\n      password,\n    }\n  }\n"]);return fe=function(){return e},e}q()(fe());var ge=q()(ve()),Ee=q()(pe()),he=function(e){var t=e.history,n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],u=h().setAutorized,s=Object(Y.a)(ge,{onCompleted:function(e){null===e.adminLogin?(c(!0),setTimeout(function(){c(!1)},500)):(u(!0),t.push(d.adminDashboard()))}}),m=Object(l.a)(s,1)[0],p=Object(a.useCallback)(function(e){13!==e.charCode&&13!==e.keyCode||(m({variables:{password:e.target.value}}),e.target.value="")},[m]);return r.a.createElement("div",{className:"admin-page"},r.a.createElement("div",{className:"form__center"},r.a.createElement(me,{name:"password",type:"password",onKeyPress:function(e){return p(e)},onSubmit:function(e){return p(e)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",animationError:o})))},be=function(){return r.a.createElement("div",{className:"app-404"},"404")},_e=function(e){var t=e.location;return r.a.createElement(N.c,{location:t},r.a.createElement(N.a,{path:"/",exact:!0,component:D}),r.a.createElement(N.a,{path:d.interiors({}),exact:!0,component:W}),r.a.createElement(N.a,{path:d.interiorsPattern(),exact:!0,component:J}),r.a.createElement(N.a,{path:d.furniture({}),exact:!0,component:oe}),r.a.createElement(N.a,{path:d.furniturePattern(),exact:!0,component:le}),r.a.createElement(N.a,{path:d.about(),exact:!0,component:se}),r.a.createElement(N.a,{path:d.admin(),exact:!0,component:he}),r.a.createElement(N.a,{component:be}))};function ye(){var e=Object(U.a)(["\n  mutation deleteInterior($_id: ObjectId, $previewUrl: String!, $picturesUrl: [String]! ) {\n    deleteInterior(_id: $_id, previewUrl: $previewUrl, picturesUrl: $picturesUrl) {\n      _id,\n      previewUrl,\n      picturesUrl\n    }\n  }\n  "]);return ye=function(){return e},e}function Oe(){var e=Object(U.a)(["\n  mutation updateInterior($_id: ObjectId, $nameRu: String!, $typeRu: String!, $yearRu: String!, $descriptionRu: String!, $nameEn: String!, $typeEn: String!, $yearEn: String!, $descriptionEn: String!, $previewUrl: String!, $newPreview: Upload!, $imagesOrder: [String]!, $addedFiles: [Upload]!, $removedImagesUrls: [String]!) {\n    updateInterior(_id: $_id, nameRu: $nameRu, typeRu: $typeRu, yearRu: $yearRu, descriptionRu: $descriptionRu, nameEn: $nameEn, typeEn: $typeEn, yearEn: $yearEn, descriptionEn: $descriptionEn, previewUrl: $previewUrl, newPreview: $newPreview, imagesOrder: $imagesOrder, addedFiles: $addedFiles, removedImagesUrls: $removedImagesUrls) {\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      previewUrl,\n      newPreview,\n      imagesOrder,\n      addedFiles,\n      removedImagesUrls\n    }\n  }\n  "]);return Oe=function(){return e},e}function Re(){var e=Object(U.a)(["\n  mutation addInterior($nameRu: String!, $typeRu: String!, $yearRu: String!, $descriptionRu: String!, $nameEn: String!, $typeEn: String!, $yearEn: String!, $descriptionEn: String!, $preview: Upload!, $images: Upload!) {\n    addInterior(nameRu: $nameRu, typeRu: $typeRu, yearRu: $yearRu, descriptionRu: $descriptionRu, nameEn: $nameEn, typeEn: $typeEn, yearEn: $yearEn, descriptionEn: $descriptionEn, preview: $preview, images: $images) {\n      nameRu,\n      typeRu,\n      yearRu,\n      descriptionRu,\n      nameEn,\n      typeEn,\n      yearEn,\n      descriptionEn,\n      preview,\n      images\n    }\n  }\n  "]);return Re=function(){return e},e}var je=q()(Re()),we=q()(Oe()),ke=q()(ye()),xe=r.a.createContext(null),Ne=function(){var e=Object(Y.b)(B),t=e.loading,n=e.error,i=e.data,o=Object(Y.b)(ne),u=o.loading,s=o.error,m=o.data,v=Object(Y.a)(ke,{onCompleted:function(){return _(!1)}}),f=Object(l.a)(v,2),g=f[0],E=f[1],h=(E.loading,E.error,E.called,function(){var e=p(xe);return{initModal:e.initModal,openModal:e.openModal}}()),b=h.initModal,_=h.openModal,y=i&&i.interiors,O=m&&m.furniture,R=Object(a.useCallback)(function(e){var t={variables:{_id:e._id,previewUrl:e.previewUrl,picturesUrl:e.picturesUrl},refetchQueries:[{query:B}]};b("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",function(){return g(t)}),_(!0)},[g,b,_]),j=Object(a.useMemo)(function(){return n?n.message:y&&y.map(function(e){return r.a.createElement("div",{key:e._id,className:"articles_list__item"},r.a.createElement("div",{className:"articles_list_item__name"},e.nameRu),r.a.createElement(c.b,{className:"articles_list_item__btn articles_list_item__btn--edit",to:d.adminEditInterior({id:e._id})},"\u0420\u0435\u0434\u0430\u043a\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("div",{className:"articles_list_item__btn articles_list_item__btn--delete",onClick:function(){return R(e)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))})},[n,R,y]),w=Object(a.useMemo)(function(){return s?s.message:O&&O.map(function(e){return r.a.createElement("div",{key:e._id,className:"articles_list__item"},r.a.createElement("div",{className:"articles_list_item__name"},e.nameRu),r.a.createElement("div",{className:"articles_list_item__btn articles_list_item__btn--edit"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("div",{className:"articles_list_item__btn articles_list_item__btn--delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))})},[s,O]);return r.a.createElement("div",{className:"admin-page"},r.a.createElement("div",{className:"articles"},r.a.createElement("div",{className:"articles__list"},r.a.createElement("div",{className:"articles_list__title"},"\u0418\u043d\u0442\u0435\u0440\u044c\u0435\u0440\u044b"),!t&&j,!n&&r.a.createElement(c.b,{className:"form-control__button",to:d.adminAddInterior()},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("div",{className:"articles__list"},r.a.createElement("div",{className:"articles_list__title"},"\u041c\u0435\u0431\u0435\u043b\u044c"),!u&&w,!s&&r.a.createElement("div",{className:"form-control__button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},Ce=n(23),Me=n(81),Ie=r.a.createContext(null),De=r.a.createContext(null),Se=function(e){var t=e.dataUrl,n=e.dataIndex,a=e.src,i=e.draggable,o=e.onDelete,l=e.onDragStart,c=e.onDragOver,u=e.onDragEnter,s=e.onDragLeave,d=e.onDrop,m=e.onDragEnd;return r.a.createElement("div",{className:"dropzone_preview__item",draggable:i,onDragStart:l&&function(e){return l(e)},onDragOver:c&&function(e){return c(e)},onDragEnter:u&&function(e){return u(e)},onDragLeave:s&&function(e){return s(e)},onDrop:d&&function(e){return d(e)},onDragEnd:m&&function(e){return m(e)}},r.a.createElement("div",{className:"dropzone_preview_item__inner"},o&&r.a.createElement("div",{className:"dropzone_preview_item__delete-btn",onClick:function(e){return o(e)}}),r.a.createElement("img",{src:a,"data-index":n,"data-url":t,alt:""})))},$e=function(e){var t=e.previewUrl,n=e.label,i=e.multiple,o=e.errorValidationClass,l=function(){var e=p(Ie),t=e.multiFiles,n=e.setMultiFiles,r=e.removedImagesUrls,i=e.setRemovedImagesUrls,o=Object(a.useCallback)(function(e,a,r){console.log(a,r,t[a],t[r]);var i=[t[r],t[a]];t[a]=i[0],t[r]=i[1],n(Object(Ce.a)(t))},[t,n]);return{handleDragStart:Object(a.useCallback)(function(e){var t=document.createElement("img");return t.classList.add("drag-image"),t.src=e.target.src,document.body.appendChild(t),e.target.closest(".dropzone_preview__item").classList.add("dropzone_preview__item--dragged"),e.dataTransfer.effectAllowed="move",e.target.dataset.url?e.dataTransfer.setData("text",e.target.dataset.url):e.target.dataset.index&&e.dataTransfer.setData("text",e.target.dataset.index),e.dataTransfer.setDragImage(t,0,0),!0},[]),handleDrop:Object(a.useCallback)(function(e){var n;if(e.stopPropagation&&e.stopPropagation(),e.dataTransfer.getData("text")){e.target.dataset.url?n=t.indexOf(e.target.dataset.url):e.target.dataset.index&&(n=+e.target.dataset.index);var a=t.indexOf(e.dataTransfer.getData("text")),r=-1===a?+e.dataTransfer.getData("text"):a;o(e,n,r)}return!1},[t,o]),handleDragOver:Object(a.useCallback)(function(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1},[]),handleDragEnter:Object(a.useCallback)(function(e){e.target.closest(".dropzone_preview__item").classList.add("dropzone_preview__item--over")},[]),handleDragLeave:Object(a.useCallback)(function(e){e.target.closest(".dropzone_preview__item").classList.remove("dropzone_preview__item--over")},[]),handleDragEnd:Object(a.useCallback)(function(e){var t=document.querySelector(".drag-image");t&&t.remove();var n=document.querySelectorAll(".dropzone_preview__item");[].forEach.call(n,function(e){e.classList.remove("dropzone_preview__item--over"),e.classList.remove("dropzone_preview__item--dragged")})},[]),handleDeleteFile:Object(a.useCallback)(function(e){var a=e.target.nextSibling.dataset.url,o=t.indexOf(a);if(-1!==o){var l=Object(Ce.a)(t),c=l.splice(o,1).filter(function(e){return"string"===typeof e});n(l);var u=[].concat(Object(Ce.a)(r),Object(Ce.a)(c));i(u)}else{var s=t.filter(function(t){return"string"===typeof t||t.preview!==e.target.nextSibling.src});n(function(){return s})}},[t,n,r,i])}}(),c=l.handleDragStart,u=l.handleDrop,s=l.handleDragOver,d=l.handleDragEnter,m=l.handleDragLeave,v=l.handleDragEnd,f=l.handleDeleteFile,g=p(Ie),E=g.multiFiles,h=g.setMultiFiles,b=g.setRemovedImagesUrls,_=p(De),y=_.singleFile,O=_.setSingleFile;Object(a.useEffect)(function(){return function(){h([]),b([]),O("")}},[b,h,O]);var R=Object(a.useCallback)(function(e){if(i){var t=Array.from(e).map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}).reduce(function(e,t){return E.find(function(e){var n=e.lastModified;return t.lastModified===n})||e.push(t),e},[]);0!==t.length&&h([].concat(Object(Ce.a)(E),Object(Ce.a)(t)))}else{var n=Object.assign(e[0],{preview:URL.createObjectURL(e[0])});O(n)}},[i,O,h,E]),j=Object(a.useMemo)(function(){return E.map(function(e){if("string"===typeof e){var t=e;return r.a.createElement(Se,{src:"http://localhost:3005/images/".concat(t),key:t,dataUrl:t,draggable:!0,onDelete:f,onDragEnd:v,onDragEnter:d,onDragLeave:m,onDragOver:s,onDragStart:c,onDrop:u})}e=e;var n=E.indexOf(e);return r.a.createElement(Se,{src:e.preview,key:e.name,dataIndex:n,draggable:!0,onDelete:f,onDragEnd:v,onDragEnter:d,onDragLeave:m,onDragOver:s,onDragStart:c,onDrop:u})})},[E,c,s,d,m,u,v,f]),w=Object(a.useMemo)(function(){var e=y;return t&&"string"===typeof y?r.a.createElement(Se,{src:"http://localhost:3005/images/".concat(t),key:t}):e?r.a.createElement(Se,{src:e.preview,key:e.name}):null},[t,y]);return r.a.createElement("div",{className:"form-control form-control__dropzone"},r.a.createElement(Me.a,{onChange:R,multiple:i},r.a.createElement("div",{className:"form-control form-control__button ".concat(o)},n)),r.a.createElement("div",{className:"dropzone__preview"},!i&&w,i&&j))},Pe=n(34);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(n,!0).forEach(function(t){Object(Pe.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qe=function(e){return Object.entries(e).reduce(function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return r&&(e[a]=r),e},{})},Fe=function(e){var t=e.initialValues,n=e.sanitizer,r=e.validator,i=e.immediateValidator,o=e.formatter,c=a.useState(t),u=Object(l.a)(c,2),s=u[0],d=u[1],m=a.useState({}),p=Object(l.a)(m,2),v=p[0],f=p[1];a.useEffect(function(){d(t)},[t]),a.useLayoutEffect(function(){i&&f(function(e){return Le({},e,{},qe(i(s)))})},[s,i,t]);var g=a.useCallback(function(e){if(!n||n(e.currentTarget)){var t=e.currentTarget,a=t.name,r=t.value;d(function(e){var t=Le({},e,Object(Pe.a)({},a,r));return o?o(t):t}),f(function(e){var t=Le({},e,Object(Pe.a)({},a,void 0));return qe(t)})}},[n,d,o]),E=a.useCallback(function(e){f(function(t){var n=t;return r&&(n=Le({},qe(r(s)))),e&&function(e){return!Object.values(e).some(function(e){return"string"===typeof e})}(n)&&e(),n})},[r,s]);return{values:s,validation:v,validate:E,onChange:g}},Te=function(e){var t=e.name,n=e.placeholder,a=e.errorMessage,i=e.value,o=e.onChange,l=a&&0!==a.length?"form-control__textarea--error":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-control form-control__textarea ".concat(l)},r.a.createElement("div",{className:"expandingArea"},r.a.createElement("textarea",{name:t,placeholder:n,value:i,onChange:o}),r.a.createElement("pre",null,r.a.createElement("span",null,i),r.a.createElement("br",null)))))},Ae=function(e,t){return e?t:void 0},ze=function(e){return"string"===typeof e},Be=function(e){return 0===e.length},Qe=function(e){return 0===e.length},Ve=function(e){var t=e.label,n=e.onClick;return r.a.createElement("div",{className:"form-control form-control__button",onClick:n},t)},Ge={nameRu:"",nameEn:"",typeRu:"",typeEn:"",yearRu:"",yearEn:"",descriptionRu:"",descriptionEn:"",preview:"",multiPreviews:""},Ye=function(e){var t=e.history;console.log("RENDER ADD_PAGE");var n=p(Ie).multiFiles,i=p(De).singleFile,o=Object(Y.a)(je,{onCompleted:function(){t.push(d.admin())}}),c=Object(l.a)(o,1)[0],u=v(),s=r.a.useMemo(function(){return function(e,t,n){return function(a){return{nameRu:Ae(Be(a.nameRu),e.validation.required),nameEn:Ae(Be(a.nameEn),e.validation.required),typeRu:Ae(Be(a.typeRu),e.validation.required),typeEn:Ae(Be(a.typeEn),e.validation.required),yearRu:Ae(Be(a.yearRu),e.validation.required),yearEn:Ae(Be(a.yearEn),e.validation.required),descriptionRu:Ae(Be(a.descriptionRu),e.validation.required),descriptionEn:Ae(Be(a.descriptionEn),e.validation.required),preview:Ae(ze(t),"form-control__button--error"),multiPreviews:Ae(Qe(n),"form-control__button--error")}}}(u,i,n)},[u,n,i]),m=Fe({initialValues:Ge,validator:s}),f=m.values,g=m.onChange,E=m.validation,h=m.validate,b=Object(a.useCallback)(function(){var e={variables:{nameRu:f.nameRu,typeRu:f.typeRu,yearRu:f.yearRu,descriptionRu:f.descriptionRu,nameEn:f.nameEn,typeEn:f.typeEn,yearEn:f.yearEn,descriptionEn:f.descriptionEn,preview:i,images:n},refetchQueries:[{query:B}]};h(function(){return c(e)})},[c,n,i,h,f]);return r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"form",action:""},r.a.createElement("div",{className:"form__left"},r.a.createElement(me,{name:"nameRu",placeholder:"\u0418\u043c\u044f",value:f.nameRu,onChange:g,errorMessage:E.nameRu}),r.a.createElement(me,{name:"nameEn",placeholder:"Name",value:f.nameEn,onChange:g,errorMessage:E.nameEn}),r.a.createElement(me,{name:"typeRu",placeholder:"\u0422\u0438\u043f",value:f.typeRu,onChange:g,errorMessage:E.typeRu}),r.a.createElement(me,{name:"typeEn",placeholder:"Type",value:f.typeEn,onChange:g,errorMessage:E.typeEn}),r.a.createElement(me,{name:"yearRu",placeholder:"\u0413\u043e\u0434",value:f.yearRu,onChange:g,errorMessage:E.yearRu}),r.a.createElement(me,{name:"yearEn",placeholder:"Year",value:f.yearEn,onChange:g,errorMessage:E.yearEn}),r.a.createElement(Te,{name:"descriptionRu",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:f.descriptionRu,onChange:g,errorMessage:E.descriptionRu}),r.a.createElement(Te,{name:"descriptionEn",placeholder:"Description",value:f.descriptionEn,onChange:g,errorMessage:E.descriptionEn}),r.a.createElement(Ve,{label:u.ui.submit.add,onClick:b})),r.a.createElement("div",{className:"form__right"},r.a.createElement($e,{label:u.ui.buttons.addPreview,errorValidationClass:ze(i)?E.preview:""}),r.a.createElement($e,{label:u.ui.buttons.addImages,multiple:!0,errorValidationClass:Qe(n)?E.multiPreviews:""}))))},We=function(e){console.log("RENDER EDIT_PAGE");var t=p(De).singleFile,n=p(Ie),i=n.multiFiles,o=n.setMultiFiles,c=n.removedImagesUrls,u=e.match,s=e.history,m=Object(Y.b)(Q,{variables:{_id:u.params.id}}),f=m.loading,g=m.error,E=m.data,h=E&&E.interiorById,b=Object(Y.a)(we,{onCompleted:function(){s.push(d.admin())}}),_=Object(l.a)(b,1)[0],y=Object(a.useState)({nameRu:"",nameEn:"",typeRu:"",typeEn:"",yearRu:"",yearEn:"",descriptionRu:"",descriptionEn:"",multiPreviews:[]}),O=Object(l.a)(y,2),R=O[0],j=O[1],w=v(),k=r.a.useMemo(function(){return function(e,t){return function(n){return{nameRu:Ae(Be(n.nameRu),e.validation.required),nameEn:Ae(Be(n.nameEn),e.validation.required),typeRu:Ae(Be(n.typeRu),e.validation.required),typeEn:Ae(Be(n.typeEn),e.validation.required),yearRu:Ae(Be(n.yearRu),e.validation.required),yearEn:Ae(Be(n.yearEn),e.validation.required),descriptionRu:Ae(Be(n.descriptionRu),e.validation.required),descriptionEn:Ae(Be(n.descriptionEn),e.validation.required),multiPreviews:Ae(Qe(t),"form-control__button--error")}}}(w,i)},[w,i]),x=Fe({initialValues:R,validator:k}),N=x.values,C=x.onChange,M=x.validation,I=x.validate,D=Object(a.useState)(""),S=Object(l.a)(D,2),$=S[0],P=S[1];Object(a.useEffect)(function(){h&&(j({nameRu:h.nameRu,nameEn:h.nameEn,typeRu:h.typeRu,typeEn:h.typeEn,yearRu:h.yearRu,yearEn:h.yearEn,descriptionRu:h.descriptionRu,descriptionEn:h.descriptionEn,multiPreviews:h.picturesUrl}),P(h.previewUrl),o(h.picturesUrl))},[h,o]);var U=Object(a.useCallback)(function(){var e=i.reduce(function(e,t){return"string"===typeof t?e.push(t):e.push("empty"),e},[]),n=i.filter(function(e){return"string"!==typeof e}),a=N.nameRu,r=N.typeRu,o=N.yearRu,l=N.descriptionRu,s=N.nameEn,d=N.typeEn,m=N.yearEn,p=N.descriptionEn,v={variables:{_id:u.params.id,nameRu:a,typeRu:r,yearRu:o,descriptionRu:l,nameEn:s,typeEn:d,yearEn:m,descriptionEn:p,previewUrl:$,newPreview:t,imagesOrder:e,addedFiles:n,removedImagesUrls:c}};I(function(){return _(v)})},[i,N,u.params.id,$,t,c,I,_]);return r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement("div",null,g&&g.message),!f&&h&&r.a.createElement("div",{className:"admin-page"},r.a.createElement("form",{className:"form",action:""},r.a.createElement("div",{className:"form__left"},r.a.createElement(me,{name:"nameRu",placeholder:"\u0418\u043c\u044f",value:N.nameRu,onChange:C,errorMessage:M.nameRu}),r.a.createElement(me,{name:"nameEn",placeholder:"Name",value:N.nameEn,onChange:C,errorMessage:M.nameEn}),r.a.createElement(me,{name:"typeRu",placeholder:"\u0422\u0438\u043f",value:N.typeRu,onChange:C,errorMessage:M.typeRu}),r.a.createElement(me,{name:"typeEn",placeholder:"Type",value:N.typeEn,onChange:C,errorMessage:M.typeEn}),r.a.createElement(me,{name:"yearRu",placeholder:"\u0413\u043e\u0434",value:N.yearRu,onChange:C,errorMessage:M.yearRu}),r.a.createElement(me,{name:"yearEn",placeholder:"Year",value:N.yearEn,onChange:C,errorMessage:M.yearEn}),r.a.createElement(Te,{name:"descriptionRu",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:N.descriptionRu,onChange:C,errorMessage:M.descriptionRu}),r.a.createElement(Te,{name:"descriptionEn",placeholder:"Description",value:N.descriptionEn,onChange:C,errorMessage:M.descriptionEn}),r.a.createElement(Ve,{label:w.ui.submit.update,onClick:U})),r.a.createElement("div",{className:"form__right"},r.a.createElement($e,{label:w.ui.buttons.addPreview,previewUrl:$}),r.a.createElement($e,{label:w.ui.buttons.addImages,multiple:!0,errorValidationClass:Qe(i)?M.multiPreviews:""})))))},Xe=function(e){var t=e.location;return r.a.createElement(N.c,{location:t},r.a.createElement(N.a,{path:"/",exact:!0,component:D}),r.a.createElement(N.a,{path:d.interiors({}),exact:!0,component:W}),r.a.createElement(N.a,{path:d.interiorsPattern(),exact:!0,component:J}),r.a.createElement(N.a,{path:d.furniture({}),exact:!0,component:oe}),r.a.createElement(N.a,{path:d.furniturePattern(),exact:!0,component:le}),r.a.createElement(N.a,{path:d.about(),exact:!0,component:se}),r.a.createElement(N.a,{path:d.admin(),exact:!0,component:he}),r.a.createElement(N.a,{path:d.adminDashboard(),exact:!0,component:Ne}),r.a.createElement(N.a,{path:d.adminAddInterior(),exact:!0,component:Ye}),r.a.createElement(N.a,{path:d.adminEditInteriorPattern(),exact:!0,component:We}),r.a.createElement(N.a,{component:be}))},He=Object(N.f)(function(e){var t=e.location,n=h().autorized;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"main"},r.a.createElement(M,null,r.a.createElement(C.a,null,r.a.createElement(f.a,{key:t.pathname,classNames:"fade-out",timeout:250},r.a.createElement(N.c,{location:t},n?r.a.createElement(Xe,{location:t}):r.a.createElement(_e,{location:t})))))))}),Je=function(e){var t=e.children,n=e.isOpened,i=e.onCancel,o=e.onConfirm,l=e.title,c=Object(a.useRef)(null);return Object(a.useEffect)(function(){return c&&c.current&&(n?Object(g.disableBodyScroll)(c.current):Object(g.enableBodyScroll)(c.current)),function(){return Object(g.clearAllBodyScrollLocks)()}},[n]),r.a.createElement("div",{ref:c,className:"modal-wrapper"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__header"},r.a.createElement("div",{className:"modal_header__title"},l)),r.a.createElement("div",{className:"modal__body"},t),r.a.createElement("div",{className:"modal__footer"},r.a.createElement("div",{className:"modal_footer__actions"},r.a.createElement("div",{className:"form-control__button modal_footer_action__btn",onClick:i},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement("div",{className:"form-control__button modal_footer_action__btn active",onClick:o},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))))},Ke=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],u=Object(a.useState)(""),s=Object(l.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)({handle:function(){}}),v=Object(l.a)(p,2),f=v[0],g=v[1],E=Object(a.useCallback)(function(e,t){m(e),g({handle:function(){t()}})},[]),h=Object(a.useCallback)(function(e){console.log("OPEN MODAL",e),c(e)},[]),b=Object(a.useCallback)(function(){c(!1)},[]);return r.a.createElement(xe.Provider,{value:{initModal:E,openModal:h}},t,o&&r.a.createElement(Je,{isOpened:o,title:d,onConfirm:f.handle,onCancel:b}))},Ze=function(e){var t=e.children,n=Object(a.useState)([]),i=Object(l.a)(n,2),o=i[0],c=i[1],u=Object(a.useState)([]),s=Object(l.a)(u,2),d=s[0],m=s[1];return r.a.createElement(Ie.Provider,{value:{multiFiles:o,setMultiFiles:c,removedImagesUrls:d,setRemovedImagesUrls:m}},t)},et=function(e){var t=e.children,n=Object(a.useState)(""),i=Object(l.a)(n,2),o=i[0],c=i[1];return r.a.createElement(De.Provider,{value:{singleFile:o,setSingleFile:c}},t)},tt=function(e){var t=e.children,n=Object(Y.b)(Ee).data,i=Object(a.useState)(!1),o=Object(l.a)(i,2),c=o[0],u=o[1];return Object(a.useEffect)(function(){u(n&&n.checkToken)},[n]),r.a.createElement(E.Provider,{value:{autorized:c,setAutorized:u}},t)},nt=(0,n(71).createUploadLink)({uri:"http://localhost:3005/graphql",credentials:"include"}),at=new w.c({link:nt,cache:new x.a}),rt=function(){return r.a.createElement(k.a,{client:at},r.a.createElement(b.a,null,r.a.createElement(tt,null,r.a.createElement(j,null,r.a.createElement(Ke,null,r.a.createElement(Ze,null,r.a.createElement(et,null,r.a.createElement(_,null),r.a.createElement(He,null),r.a.createElement(y,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=r.a.createElement(c.a,null,r.a.createElement(rt,null));o.a.render(it,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[56,1,2]]]);
//# sourceMappingURL=main.d9c01a08.chunk.js.map